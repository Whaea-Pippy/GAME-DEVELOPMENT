<!doctype html>
<html lang="mi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Te Reo Māori — Kei te … Sentence Activities</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --card:#ffffff;--muted:#6b7280;--accent1:#ff6b6b;--accent2:#ffb86b;--accent3:#ffd36b;
    --accent4:#9be15d;--accent5:#6bd3ff;--accent6:#b28bff;--success:#1e8f4a;--danger:#c02929;
    --shadow:0 6px 18px rgba(15,23,42,0.08);
  }
  html,body{height:100%;background:linear-gradient(180deg,#f0fbff 0%,#fbf7ff 100%);margin:0;color:#062a3b;font-family:'Nunito',sans-serif}
  .wrap{max-width:980px;margin:20px auto;padding:20px}
  header h1{font-family:'Poppins',sans-serif;font-size:1.7rem;margin:0 0 20px}
  .nav{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px}
  .nav button{padding:12px 18px;border-radius:999px;border:0;color:white;font-weight:700;cursor:pointer}
  .tag-1{background:linear-gradient(90deg,var(--accent1),var(--accent2))}
  .tag-2{background:linear-gradient(90deg,var(--accent3),var(--accent4))}
  .tag-3{background:linear-gradient(90deg,var(--accent5),var(--accent6))}
  .card{background:var(--card);padding:20px;border-radius:16px;box-shadow:var(--shadow);margin-bottom:20px}
  .section-title{font-size:1.4rem;font-weight:700;margin-bottom:12px}
  .small{font-size:0.9rem;color:var(--muted)}
  .hidden{display:none}
  .flashcard{min-height:160px;display:flex;align-items:center;justify-content:center;font-size:1.9rem;font-weight:700;
    border-radius:16px;background:var(--card);box-shadow:var(--shadow);cursor:pointer}
  .words-grid{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:16px}
  .word-btn{padding:12px 18px;border-radius:999px;background:#f0f5ff;border:2px solid transparent;font-weight:700;cursor:pointer;transition:all .2s}
  .word-btn.selected{opacity:0.7;transform:scale(0.95)}
  .word-btn.correct{background:linear-gradient(90deg,var(--accent4),#6bd3ff);color:white}
  .answer-area{min-height:60px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;padding:16px;border-radius:12px;
    border:2px dashed #c0ccda;background:#f8fbff;transition:all .3s}
  .answer-area.correct{border-color:var(--success);background:linear-gradient(90deg,#e6f7ea,#f0fff4)}
  .answer-area.incorrect{border-color:var(--danger);background:linear-gradient(90deg,#fff1f1,#fff6f6)}
  .answer-chip{background:#e0f2ff;padding:10px 16px;border-radius:999px;font-weight:700;cursor:pointer}
  .feedback{margin-top:12px;font-weight:700}
  .correct-badge{color:var(--success)}
  .wrong-badge{color:var(--danger)}
  .choice{padding:14px 18px;border-radius:12px;background:#f6fbff;cursor:pointer;border:2px solid transparent;font-weight:700;margin-bottom:8px}
  .choice.correct{background:linear-gradient(90deg,#dff7e6,#bff1cf);border-color:var(--success)}
  .choice.wrong{background:linear-gradient(90deg,#ffdede,#ffcccc);border-color:var(--danger)}
  .type-btn{padding:18px;border-radius:12px;border:0;font-weight:700;font-size:1.1rem;cursor:pointer;
    background:#f0f5ff;transition:all .2s;margin-bottom:12px;width:100%;text-align:left}
  .type-btn.correct{background:linear-gradient(90deg,#9be15d,#6bd3ff);color:white}
  .type-btn.wrong{background:#ffd6d6;color:var(--danger)}
  .gap-pool{display:flex;flex-wrap:wrap;gap:10px;margin:16px 0}
  .gap-btn{padding:12px 18px;border-radius:999px;background:#f0f5ff;border:2px solid transparent;font-weight:700;cursor:pointer}
  .gap-btn.selected{background:var(--accent5);color:white}
  .gap-blank{display:inline-block;min-width:100px;height:40px;border-bottom:4px solid #444;margin:0 6px;vertical-align:middle}
  .group{margin-bottom:32px}
  .group h3{font-size:1.4rem;margin:0 0 8px}
  .group p{margin:0 0 16px;color:#444;font-size:1rem;line-height:1.5}
  .mini-flash{cursor:pointer;padding:16px;border-radius:12px;background:#f8fbff;margin:8px 0;
    box-shadow:var(--shadow);font-weight:600;transition:all .2s;font-size:1.1rem}
  .mini-flash:hover{background:#e6f0ff}
  @media (max-width:520px){
    .flashcard{font-size:1.5rem}
    .word-btn,.gap-btn{font-size:0.95rem;padding:10px 14px}
  }
</style>
</head>
<body>
<div class="wrap">
  <header><h1>Te Reo Māori — Kei te … Sentence Activities</h1></header>

  <div class="nav" role="tablist">
    <button class="tag-1" data-view="flash">Flashcards</button>
    <button class="tag-2" data-view="mcq">MCQ</button>
    <button class="tag-3" data-view="fill">Fill the Gaps</button>
    <button class="tag-1" data-view="word">Word Order</button>
    <button class="tag-2" data-view="type">Sentence Type</button>
    <button class="tag-3" data-view="list">List All</button>
  </div>

  <!-- FLASHCARDS -->
  <section id="flash" class="card">
    <div class="section-title">Flashcards <span class="small">— tap to flip</span></div>
    <div id="flashcard" class="flashcard"></div>
    <div style="display:flex;gap:12px;margin-top:16px">
      <button class="tag-1" id="prevFlash">← Prev</button>
      <button class="tag-3" id="shuffleFlash">Shuffle</button>
      <button class="tag-1" id="nextFlash">Next →</button>
    </div>
  </section>

  <!-- MCQ -->
  <section id="mcq" class="card hidden">
    <div class="section-title">Multiple Choice</div>
    <div id="mcq-english" style="font-weight:700;margin-bottom:16px"></div>
    <div id="mcq-choices"></div>
    <div id="mcq-feedback" class="feedback"></div>
    <div style="margin-top:16px"><button class="tag-3" id="nextMcq">Next Question</button></div>
  </section>

  <!-- FILL THE GAPS -->
  <section id="fill" class="card hidden">
    <div class="section-title">Fill the Gaps</div>
    <div id="fill-english" style="font-weight:700;margin-bottom:16px"></div>
    <div id="fill-sentence" style="font-size:1.4rem;line-height:2.2;margin-bottom:16px"></div>
    <div id="fill-pool" class="gap-pool"></div>
    <div style="display:flex;gap:12px;margin-top:16px">
      <button class="tag-1" id="checkFill">Check</button>
      <button class="tag-3" id="nextFill">Next</button>
    </div>
    <div id="fill-feedback" class="feedback"></div>
  </section>

  <!-- WORD ORDER -->
  <section id="word" class="card hidden">
    <div class="section-title">Word Order <span class="small">— tap words to build the sentence</span></div>
    <div id="word-english" style="font-weight:700;margin-bottom:16px"></div>
    <div id="word-words" class="words-grid"></div>
    <div id="word-answer" class="answer-area"></div>
    <div style="margin-top:16px;display:flex;gap:12px">
      <button class="tag-1" id="resetWord">Reset</button>
      <button class="tag-3" id="nextWord">Next</button>
    </div>
    <div id="word-feedback" class="feedback"></div>
  </section>

  <!-- SENTENCE TYPE – with full detailed buttons -->
  <section id="type" class="card hidden">
    <div class="section-title">Sentence Type</div>
    <div style="margin-bottom:20px">
      <div class="small">Māori sentence:</div>
      <div id="type-sentence" style="font-weight:700;font-size:1.5rem;padding:16px;background:#f0f8ff;border-radius:12px"></div>
    </div>
    <div id="type-options"></div>
    <div style="margin-top:20px;display:flex;gap:12px">
      <button class="tag-1" id="resetType">Reset</button>
      <button class="tag-3" id="nextType">Next</button>
    </div>
    <div id="type-feedback" class="feedback"></div>
  </section>

  <!-- LIST ALL – grouped with full explanations -->
  <section id="list" class="card hidden">
    <div class="section-title">All Sentences Grouped by Type</div>
    <div id="list-groups"></div>
  </section>
</div>

<script>
const items = [
  {mi:"Kei te mau te tāne i te pōtae", en:"The man is wearing/holding the hat", type:"Reremahi Whiti"},
  {mi:"Kei te harikoa ahau", en:"I am happy", type:"Rereāhua"},
  {mi:"Kei te hiahia au ki te moe", en:"I want to sleep", type:"Reremahi Wheako"},
  {mi:"Kei te maumahara au ki a koe", en:"I remember you", type:"Reremahi Wheako"},
  {mi:"Kei te whiu te kotiro i te pōro", en:"The girl is throwing the ball", type:"Reremahi Whiti"},
  {mi:"Kei te pōuri ngā tama", en:"The boys are sad", type:"Rereāhua"},
  {mi:"Kei te awangawanga te kaiako", en:"The teacher is worried", type:"Rereāhua"},
  {mi:"Kei te mōhio au ki te arapū", en:"I know the alphabet", type:"Reremahi Wheako"},
  {mi:"Kei te mārama ngā tauira ki te pātai", en:"The students understand the question", type:"Reremahi Wheako"},
  {mi:"Kei te menemene ngā koro", en:"The old men are smiling", type:"Rereāhua"},
  {mi:"Kei te ngenge ahau", en:"I am tired", type:"Rereāhua"},
  {mi:"Kei te manahau ngā ākonga", en:"The students are excited", type:"Rereāhua"},
  {mi:"Kei te moe te pēpi", en:"The baby is sleeping", type:"Reremahi Poro"},
  {mi:"Kei te mōhio ahau ki tō māmā", en:"I know your mum", type:"Reremahi Wheako"},
  {mi:"Kei te tū te tāne", en:"The man is standing", type:"Reremahi Poro"}
];

const typeInfo = {
  "Rereāhua":        {name:"Rereāhua",          desc:"Describes a feeling or state — happy, sad, tired, excited, worried, smiling etc."},
  "Reremahi Poro":   {name:"Reremahi Poro",     desc:"Action with no object — just doing something by yourself (sleeping, standing, smiling)"},
  "Reremahi Whiti":  {name:"Reremahi Whiti",    desc:"Action done to something/someone — uses ‘i te …’ right after the verb (wearing the hat, throwing the ball)"},
  "Reremahi Wheako": {name:"Reremahi Wheako",   desc:"Experience/thinking verbs — know, want, remember, understand, like, see, hear etc."}
};

let order = shuffle([...Array(items.length).keys()]);
let flashIndex = mcqIndex = fillIndex = wordIndex = typeIndex = 0;

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}
function splitWords(s){return s.trim().split(/\s+/).filter(Boolean)}

document.querySelectorAll('.nav button').forEach(b=>b.addEventListener('click',()=>showView(b.dataset.view)));
function showView(v){
  document.querySelectorAll('section[id]').forEach(s=>s.classList.add('hidden'));
  document.getElementById(v).classList.remove('hidden');
  if(v==='list') renderList();
}

/* Flashcards */
const flashcardEl = document.getElementById('flashcard');
function renderFlash(){const it=items[order[flashIndex]];flashcardEl.innerHTML=`<div>${it.en}</div>`;flashcardEl.dataset.side='front'}
flashcardEl.onclick=()=>{const it=items[order[flashIndex]];flashcardEl.dataset.side==='front'?flashcardEl.innerHTML=`<div>${it.mi}</div>`:renderFlash();flashcardEl.dataset.side=flashcardEl.dataset.side==='front'?'back':'front'}
document.getElementById('prevFlash').onclick=()=>{flashIndex=(flashIndex-1+items.length)%items.length;renderFlash()}
document.getElementById('nextFlash').onclick=()=>{flashIndex=(flashIndex+1)%items.length;renderFlash()}
document.getElementById('shuffleFlash').onclick=()=>{order=shuffle([...Array(items.length).keys()]);flashIndex=0;renderFlash()}

/* MCQ, Fill the Gaps, Word Order – unchanged but included for completeness */
function renderMcq(){
  const it=items[order[mcqIndex]];
  document.getElementById('mcq-english').textContent=it.en;
  const c=document.getElementById('mcq-choices');c.innerHTML='';
  let opts=[it.mi];while(opts.length<4){const r=items[Math.floor(Math.random()*items.length)].mi;if(!opts.includes(r))opts.push(r)}
  shuffle(opts).forEach(o=>{const b=document.createElement('div');b.className='choice';b.textContent=o;
    b.onclick=()=>{if(b.classList.contains('correct')||b.classList.contains('wrong'))return;
      document.querySelectorAll('#mcq-choices .choice').forEach(x=>x.style.pointerEvents='none');
      o===it.mi?(b.classList.add('correct'),document.getElementById('mcq-feedback').innerHTML='<span class="correct-badge">Tika!</span>'):
      (b.classList.add('wrong'),document.getElementById('mcq-feedback').innerHTML='<span class="wrong-badge">Kāore</span>')};
    c.appendChild(b)});
  document.getElementById('mcq-feedback').textContent='';
}
document.getElementById('nextMcq').onclick=()=>{mcqIndex=(mcqIndex+1)%items.length;renderMcq()}

/* Fill the Gaps */
let currentGaps=[];
function renderFill(){
  const it=items[order[fillIndex]];
  document.getElementById('fill-english').textContent=it.en;
  const words=splitWords(it.mi);
  const gapCount=Math.min(3,Math.max(1,Math.floor(words.length/3)));
  const gaps=[];while(gaps.length<gapCount){const i=Math.floor(Math.random()*words.length);if(!gaps.includes(i))gaps.push(i)}
  gaps.sort((a,b)=>a-b);currentGaps=gaps.map(i=>({correct:words[i]}));
  const s=document.getElementById('fill-sentence');s.innerHTML='';
  const pool=gaps.map(i=>words[i]);
  const distractors=items.flatMap(x=>splitWords(x.mi)).filter(w=>!pool.includes(w));
  pool.push(...shuffle(distractors).slice(0,6));shuffle(pool);
  const p=document.getElementById('fill-pool');p.innerHTML='';
  pool.forEach(w=>{const b=document.createElement('button');b.className='gap-btn';b.textContent=w;
    b.onclick=()=>{const blank=s.querySelector('.gap-blank:not(.filled)');if(blank){blank.textContent=w;blank.classList.add('filled');b.disabled=true;b.classList.add('selected')}};
    p.appendChild(b)});
  words.forEach((w,i)=>{gaps.includes(i)?s.appendChild(Object.assign(document.createElement('span'),{className:'gap-blank'})):s.appendChild(document.createTextNode(w+' '))});
  document.getElementById('fill-feedback').textContent='';
}
document.getElementById('checkFill').onclick=()=>{
  const filled=document.querySelectorAll('#fill-sentence .gap-blank.filled');
  let ok=true;filled.forEach((b,i)=>{if(b.textContent!==currentGaps[i].correct)ok=false});
  if(filled.length<currentGaps.length)ok=false;
  document.getElementById('fill-feedback').innerHTML=ok?'<span class="correct-badge">Tika rawa atu!</span>':'<span class="wrong-badge">Kāore anō</span>';
}
document.getElementById('nextFill').onclick=()=>{fillIndex=(fillIndex+1)%items.length;renderFill()}

/* Word Order */
let picked=[];
function renderWord(){
  picked=[];const it=items[order[wordIndex]];
  document.getElementById('word-english').textContent=it.en;
  const words=splitWords(it.mi);
  const g=document.getElementById('word-words'),a=document.getElementById('word-answer');
  g.innerHTML='';a.innerHTML='';a.classList.remove('correct','incorrect');
  document.getElementById('word-feedback').textContent='';
  shuffle(words.map((w,i)=>({w,i}))).forEach(o=>{
    const b=document.createElement('button');b.className='word-btn';b.textContent=o.w;
    b.onclick=()=>{if(b.disabled)return;b.disabled=true;b.classList.add('selected');picked.push(o.w);
      const chip=document.createElement('div');chip.className='answer-chip';chip.textContent=o.w;
      chip.onclick=()=>{b.disabled=false;b.classList.remove('selected');a.removeChild(chip);picked=picked.filter(x=>x!==o.w);a.classList.remove('correct','incorrect')};
      a.appendChild(chip);
      if(picked.join(' ')===it.mi){a.classList.add('correct');document.getElementById('word-feedback').innerHTML='<span class="correct-badge">Tika!</span>';g.querySelectorAll('button').forEach(x=>x.disabled=true)}
    };
    g.appendChild(b);
  });
}
document.getElementById('resetWord').onclick=renderWord;
document.getElementById('nextWord').onclick=()=>{wordIndex=(wordIndex+1)%items.length;renderWord()}

/* Sentence Type – full detailed buttons */
function renderType(){
  const it=items[order[typeIndex]];
  document.getElementById('type-sentence').textContent=it.mi;
  const o=document.getElementById('type-options');o.innerHTML='';
  document.getElementById('type-feedback').textContent='';
  shuffle(Object.keys(typeInfo)).forEach(k=>{
    const i=typeInfo[k];
    const b=document.createElement('button');
    b.className='type-btn';
    b.innerHTML=`<strong>${i.name}</strong><br><span style="font-weight:normal;font-size:0.95rem">${i.desc}</span>`;
    b.onclick=()=>{
      o.querySelectorAll('button').forEach(x=>x.disabled=true);
      if(k===it.type){b.classList.add('correct');document.getElementById('type-feedback').innerHTML='<span class="correct-badge">Tika!</span>'}
      else{b.classList.add('wrong');
        const correctBtn=[...o.querySelectorAll('button')].find(x=>x.textContent.includes(it.type));
        if(correctBtn)correctBtn.classList.add('correct');
        document.getElementById('type-feedback').innerHTML=`<span class="wrong-badge">Kāore – correct is ${it.type}</span>`;
      }
    };
    o.appendChild(b);
  });
}
document.getElementById('nextType').onclick=()=>{typeIndex=(typeIndex+1)%items.length;renderType()};
document.getElementById('resetType').onclick=renderType;

/* List All – with full explanations */
function renderList(){
  const c=document.getElementById('list-groups');c.innerHTML='';
  const groups={};items.forEach(it=>{groups[it.type]=groups[it.type]||[];groups[it.type].push(it)});
  Object.keys(typeInfo).forEach(k=>{
    if(!groups[k])return;
    const d=document.createElement('div');d.className='group';
    d.innerHTML=`<h3>${typeInfo[k].name}</h3><p>${typeInfo[k].desc}</p>`;
    groups[k].forEach(it=>{
      const card=document.createElement('div');card.className='mini-flash';
      card.innerHTML=it.mi;
      card.onclick=()=>{card.innerHTML=card.innerHTML===it.mi?it.mi+'<br><br><em>'+it.en+'</em>':it.mi};
      d.appendChild(card);
    });
    c.appendChild(d);
  });
}

/* Initialise everything */
renderFlash();renderMcq();renderFill();renderWord();renderType();renderList();
showView('word');
</script>
</body>
</html>