<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Te Reo Māori Shape Match</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .draggable { cursor: grab; }
    .draggable.dragging { opacity: 0.5; }
    .dropzone { min-height: 100px; }
    .correct { background-color: #d4edda; }
    .incorrect { background-color: #f8d7da; }
  </style>
</head>
<body class="bg-gradient-to-br from-pink-200 via-purple-200 to-blue-200 min-h-screen flex flex-col items-center justify-center p-4 font-sans">
  <div class="bg-white rounded-2xl shadow-lg p-6 max-w-4xl w-full">
    <h1 class="text-3xl font-bold text-center text-purple-600 mb-4">Te Reo Māori Shape Match</h1>
    <p class="text-center text-gray-600 mb-6">Drag the Te Reo Māori words to their English meanings!</p>
    <div class="flex flex-col md:flex-row gap-6">
      <div class="w-full md:w-1/2">
        <h2 class="text-xl font-semibold text-pink-500 mb-4">Te Reo Māori Words</h2>
        <div id="words" class="grid grid-cols-2 gap-4">
          <!-- Words will be populated by JavaScript -->
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h2 class="text-xl font-semibold text-blue-500 mb-4">English Meanings</h2>
        <div id="meanings" class="grid grid-cols-2 gap-4">
          <!-- Meanings will be populated by JavaScript -->
        </div>
      </div>
    </div>
    <div class="text-center mt-6">
      <button id="check" class="bg-green-500 text-white px-6 py-2 rounded-full hover:bg-green-600 transition">Check Answers</button>
      <button id="reset" class="bg-red-500 text-white px-6 py-2 rounded-full hover:bg-red-600 transition ml-4">Reset</button>
    </div>
    <p id="score" class="text-center text-lg font-semibold text-gray-700 mt-4"></p>
  </div>

  <script>
    const wordPairs = [
      { maori: "Whero", english: "Red", shape: "circle", color: "bg-red-400" },
      { maori: "Kākāriki", english: "Green", shape: "square", color: "bg-green-400" },
      { maori: "Kōwhai", english: "Yellow", shape: "triangle", color: "bg-yellow-400" },
      { maori: "Kikorangi", english: "Blue", shape: "hexagon", color: "bg-blue-400" }
    ];

    const wordsContainer = document.getElementById('words');
    const meaningsContainer = document.getElementById('meanings');
    const checkButton = document.getElementById('check');
    const resetButton = document.getElementById('reset');
    const scoreDisplay = document.getElementById('score');

    function createShapeElement(text, shape, color, isDraggable = false) {
      const div = document.createElement('div');
      div.className = `p-4 rounded-lg text-white text-center font-semibold ${color} ${isDraggable ? 'draggable' : 'dropzone'}`;
      if (shape === 'circle') div.classList.add('rounded-full');
      if (shape === 'triangle') div.classList.add('border-4', 'border-transparent', 'border-t-0', 'border-b-8', 'border-l-8', 'border-r-8');
      if (shape === 'hexagon') div.classList.add('hexagon');
      div.innerText = text;
      if (isDraggable) div.setAttribute('draggable', true);
      return div;
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function initializeGame() {
      wordsContainer.innerHTML = '';
      meaningsContainer.innerHTML = '';
      scoreDisplay.innerText = '';

      const shuffledWords = shuffle([...wordPairs]);
      const shuffledMeanings = shuffle([...wordPairs]);

      shuffledWords.forEach(pair => {
        const wordElement = createShapeElement(pair.maori, pair.shape, pair.color, true);
        wordElement.dataset.english = pair.english;
        wordsContainer.appendChild(wordElement);
      });

      shuffledMeanings.forEach(pair => {
        const meaningElement = createShapeElement(pair.english, pair.shape, pair.color);
        meaningElement.dataset.english = pair.english;
        meaningsContainer.appendChild(meaningElement);
      });

      setupDragAndDrop();
    }

    function setupDragAndDrop() {
      const draggables = document.querySelectorAll('.draggable');
      const dropzones = document.querySelectorAll('.dropzone');

      draggables.forEach(draggable => {
        draggable.addEventListener('dragstart', (e) => {
          draggable.classList.add('dragging');
          e.dataTransfer.setData('text/plain', draggable.dataset.english);
        });
        draggable.addEventListener('dragend', () => {
          draggable.classList.remove('dragging');
        });
      });

      dropzones.forEach(dropzone => {
        dropzone.addEventListener('dragover', (e) => {
          e.preventDefault();
        });
        dropzone.addEventListener('drop', (e) => {
          e.preventDefault();
          const draggedEnglish = e.dataTransfer.getData('text/plain');
          const dropzoneEnglish = dropzone.dataset.english;
          if (draggedEnglish === dropzoneEnglish) {
            const draggable = document.querySelector(`.draggable[data-english="${draggedEnglish}"]`);
            dropzone.innerText = draggable.innerText;
            draggable.remove();
          }
        });
      });
    }

    function checkAnswers() {
      const dropzones = document.querySelectorAll('.dropzone');
      let correct = 0;
      dropzones.forEach(dropzone => {
        const maoriWord = dropzone.innerText;
        const englishMeaning = dropzone.dataset.english;
        const pair = wordPairs.find(p => p.english === englishMeaning);
        if (pair && pair.maori === maoriWord) {
          dropzone.classList.add('correct');
          correct++;
        } else {
          dropzone.classList.add('incorrect');
        }
      });
      scoreDisplay.innerText = `You got ${correct} out of ${wordPairs.length} correct!`;
    }

    function resetGame() {
      initializeGame();
      const dropzones = document.querySelectorAll('.dropzone');
      dropzones.forEach(dropzone => {
        dropzone.classList.remove('correct', 'incorrect');
      });
    }

    checkButton.addEventListener('click', checkAnswers);
    resetButton.addEventListener('click', resetGame);

    initializeGame();
  </script>
</body>
</html>