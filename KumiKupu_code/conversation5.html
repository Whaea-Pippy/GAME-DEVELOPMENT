<!DOCTYPE html>
<html>
<head>
<base target="_top">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ngā Kupu – Vocabulary Practice</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">

<style>
body { font-family: Arial, sans-serif; padding: 20px; background-color: #f0f9ff; }

.header-container {
    display: flex;
    flex-wrap: wrap; 
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
}

.header-container h2 { margin: 0; }

/* ================= DROPDOWN ================= */
.selector-container {
    background-color: #ADD8E6;
    border: 3px solid #00008B;
    border-radius: 15px;
    padding: 5px 15px;
    display: inline-block;
}

#category-selector {
    min-width: 300px;
    background-color: transparent;
    border: none;
    font-family: 'Poppins', sans-serif;
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    font-weight: 700;
    color: #333;
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    text-align: center;
    text-align-last: center;
}

/* ================= FLASHCARDS ================= */
#flashcards-section {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}
#flashcards-section .card {
  height: 100px;
  padding: 10px;
  border: 4px solid #333;
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-weight: bold;
  font-size: 18px;
  word-wrap: break-word;
  transition: transform 0.6s, background-color 0.6s;
  background-color: lightyellow;
}
#flashcards-section .card.flipped { background-color: lightblue; }

/* ================= QUIZ ================= */
#quiz-section .quiz-question {
  margin-bottom: 20px;
  border-top: 2px solid #ccc;
  padding-top: 15px;
}
#quiz-section .quiz-question b {
    font-size: 1.2em;
    margin-bottom: 10px;
    display: block;
}
.quiz-options {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}
#quiz-section .quiz-options button { font-size: 16px; padding: 8px; width: 100%; }

/* ================= MATCHING (Corrected for both Desktop and Mobile) ================= */

/* Matched Pairs (Top Section) - Corrected to be full-width rows */
.matched-container {
  display: flex;
  flex-direction: column; /* Stack pairs vertically */
  gap: 10px;
  margin-bottom: 10px;
}
.pair {
  padding: 10px 15px;
  border-radius: 8px;
  font-weight: bold;
  display: flex;
  justify-content: center;
  gap: 8px;
  align-items: center;
  font-size: 1.4rem; /* Larger font */
  text-align: center;
}
.pair .sep { font-weight: bold; }

/* Clickable Word Boxes (Bottom Section) */
.matching-container {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin-top: 20px;
}

/* THIS IS THE FIX: 2 columns for desktop, restored from original layout */
.matching-box {
  flex: 1;
  display: grid; /* Use grid for columns */
  grid-template-columns: repeat(2, 1fr); /* Two columns within each box */
  align-content: start; /* Align items to the top */
  gap: 10px;
  min-height: 200px;
  border: 2px dashed #ccc;
  padding: 10px;
  border-radius: 10px;
  background-color: #fafafa;
}

#matching-section .drag-item {
  height: 50px;
  border: 2px solid #666;
  background: #eee;
  cursor: pointer;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 18px;
  box-sizing: border-box;
}

/* ================= MOBILE STYLES (Verified Perfect) ================= */
@media (max-width: 768px) {
    #flashcards-section { grid-template-columns: repeat(2, 1fr); }
    .quiz-options { grid-template-columns: repeat(2, 1fr); }
    .matching-container { gap: 10px; }
    #matching-section .drag-item { font-size: 16px; }
    .pair { font-size: 1.1rem; }

    /* THIS IS THE FIX: Revert to 1 column on mobile to keep it perfect */
    .matching-box {
        grid-template-columns: 1fr; /* Single column on mobile */
    }
}
</style>
</head>

<body>
<div class="header-container">
    <h2>Ngā Kupu – Vocabulary Practice</h2>
    <div class="selector-container">
      <select id="category-selector" onchange="updateContent()">
        <option value="select" selected>--Select--</option>
        <option value="greeting">Greeting</option>
        <option value="orca1">Orca 1</option>
        <option value="orca2">Orca 2</option>
        <option value="orcavocab">Orca Vocab</option>
        <option value="tikanga">Tikanga</option>
        <option value="hehonore">He Hōnore</option>
        <option value="kiatau">Kia Tau</option>
        <option value="whakataka">Whakataka te Hau</option>
        <option value="pepeha">Pepeha</option>
        <option value="joiners">Joiners</option>
        <option value="hararei">Hararei</option>
        <option value="nceal2">NCEA L2</option>
      </select>
    </div>
</div>

<h3>Flashcards</h3>
<div id="flashcards-section"></div>

<h3>Quiz</h3>
<div id="quiz-section"></div>

<h3>Matching - CLICK - CLICK</h3>
<div class="matched-container" id="matched-pairs"></div>
<div id="matching-section"></div>

<script>
// Vocabulary data
const data = {
    select: [
        ["tangata", "person / people"], ["whenua", "land / country"], ["kura", "school"],
        ["whare", "house / building"], ["wai", "water"], ["moana", "sea / ocean"],
        ["rangi", "sky / day"], ["kai", "food"], ["tamariki", "children"],
        ["maunga", "mountain"], ["waka", "canoe / vehicle"], ["kāinga", "home / village"]
    ],
  greeting: [
    ["Kia ora", "hello / hi"], ["pai", "good"], ["ngenge", "tired"], ["moe", "sleep"],
    ["māuiui", "sick / unwell"], ["huangō", "asthma"], ["puehu", "dust"],
    ["puāwai", "flower / blossom"], ["pēpi", "baby"], ["menemene", "smile"],
    ["mahi", "work"], ["Paraire", "Friday"]
  ],
  orca1: [
    ["Kia ora", "hello"], ["ata", "morning"], ["rawe", "great / excellent"],
    ["hīkoi", "walk"], ["pūwaha", "estuary"], ["orca", "orca (killer whale)"],
    ["kau", "swim"], ["takutai", "shore / beach"], ["kaihoe", "paddler"],
    ["reti wai", "paddleboard / surfboard"], ["waea", "phone"], ["moana", "ocean"]
  ],
  orca2: [
    ["titiro", "look"], ["poti", "boat"], ["parāoa", "whale"],
    ["orca", "orca (killer whale)"], ["parirau tuarā", "dorsal fin"], ["nui", "big"],
    ["awa", "river / estuary"], ["iti", "small"], ["kaihoe", "paddler"],
    ["rererangi wai", "paddleboard"], ["rā", "sun / day"], ["mārie", "calm"]
  ],
  orcavocab: [
    ["parāoa / orca", "whale / orca"], ["parirau", "fin"], ["poti mā", "white boat"],
    ["kaihoe papa rererangi wai", "paddle boarder"], ["awa", "estuary / river"],
    ["wai mārie", "calm water"], ["rā e whiti ana", "shining sun"], ["ata ātaahua", "beautiful morning"],
    ["mātakitaki", "to watch / observe"], ["titiro", "look"], ["tata", "near / close"],
    ["mataku", "scared / afraid"]
  ],
   tikanga: [
        ["tikanga", "customs / cultural practices"], ["whakaute", "respect"],
        ["manaakitanga", "kindness / hospitality"], ["karakia", "prayer"],
        ["marae", "courtyard / meeting place"], ["wharenui", "meeting house"],
        ["tango hū", "to take off shoes"], ["atua", "god / spiritual being"],
        ["kai", "food / meal"], ["ako", "to learn / teach"], ["tapu", "sacredness"],
        ["noa", "ordinary / free from tapu"]
    ],
    hehonore: [
        ["He Hōnore", "The Honour (prayer title)"], ["korōria", "glory"],
        ["maungārongo", "peace"], ["whenua", "land / earth"], ["whakaaro pai", "good thoughts"],
        ["tangata", "people / mankind"], ["aroha", "love"], ["Atua", "God"],
        ["wairua", "spirit"], ["tapū", "sacred / holy"], ["āke ake", "forever and ever"], ["Āmene", "amen"]
    ],
    kiatau: [
        ["kia tau", "let it rest / may it settle"], ["tātou", "us / all of us"],
        ["atawhai", "grace / kindness"], ["Ariki", "Lord"], ["Ihu Karaiti", "Jesus Christ"],
        ["aroha", "love"], ["Atua", "God"], ["whiwhingatahitanga", "fellowship / unity"],
        ["Wairua Tapu", "Holy Spirit"], ["ake ake", "forever and ever"], ["Amine", "amen"], ["tau", "settle / descend"]
    ],
    whakataka: [
    ["whakataka", "to prepare / make ready"],
    ["hau", "wind"],
    ["tonga", "south"],
    ["uta", "inland / shore"],
    ["tai", "sea / tide"],
    ["atākura", "red glow of dawn"],
    ["tio", "frost"],
    ["huka", "snow / ice"],
    ["hū", "gust / deep breath / sigh"],
    ["mākinakina", "chilly / cold wind"],
    ["mātaratara", "biting cold / frosty"],
    ["mauri ora", "the life force / breath of life"]
],
    pepeha: [
        ["tēnā koutou katoa", "greetings to you all"], ["Perehipitīriana", "Presbyterian"],
        ["Hāhi", "church"], ["Hāto Kēneti", "Saint Kentigern (St Kent’s)"],
        ["tangata", "person / man"], ["kura", "school"], ["me ū", "hold fast / be steadfast"],
        ["whakapono", "faith / belief"], ["tīhei", "the sneeze (symbol of life)"],
        ["mauri", "life force"], ["ora", "life / well-being"], ["katoa", "all / everyone"]
    ],
    joiners: [
        ["nō reira", "therefore, so"], ["engari", "but"], ["heoi anō", "however"],
        ["ā", "and (link actions/ideas)"], ["waihoki", "furthermore, also"], ["nā te mea", "because"],
        ["otirā", "but, however (formal/poetic)"], ["me", "and (link nouns/people)"], ["ahakoa", "although, even though"],
        ["mēnā / ki te", "if"], ["ina", "when"], ["kia", "so that / in order to"]
    ],
    hararei: [
    ["hararei", "holidays"],
    ["wiki", "week"],
    ["tīmatanga", "beginning / start"],
    ["haere", "to go"],
    ["noho", "to stay / sit"],
    ["toro", "to visit"],
    ["whare", "house"],
    ["kuia", "grandmother"],
    ["pāka", "park"],
    ["kāinga", "home"],
    ["Kirihimete", "Christmas"],
    ["ahau", "I / me"]
  ],
  nceal2: [
  ["ariā", "idea, concept"],
  ["ariā matua", "main ideas"],
  ["āta whakamahi", "applies skilfully, carefully, deliberately"],
  ["auaha", "creative"],
  ["āta whakapuaki", "express skilfully"],
  ["hunga whakarongo", "audience"],
  ["kapo", "capture (audience attention)"],
  ["kauhau", "formal speech"],
  ["kaupapa matua", "message, main theme"],
  ["huahuatau", "metaphor"],
  ["kīanga whakarite", "simile"],
  ["kīanga whakatangata", "personification"],
  ["kīwaha", "idiom"],
  ["kōrero ōkawa", "formal speaking"],
  ["kōrero ōpaki", "informal speaking"],
  ["kōrero pono", "fact"],
  ["kōrerorero", "dialogue, conversation"],
  ["matapaki", "discussion"],
  ["mita o te reo", "rhythm, intonation, pronunciation"],
  ["nuka reo", "language features"],
  ["pānui", "bulletin"],
  ["pepeha", "aphorisms"],
  ["pono (kōrero)", "factual"],
  ["reo whakaahua", "imagery"],
  ["rere", "fluent, flowing"],
  ["takinga kōrero", "narrative, commentary"],
  ["taunakitanga", "evidence or examples"],
  ["taupatupatu", "debate"],
  ["whakaaro", "opinion"],
  ["whakapakepake", "persuade, motivate"],
  ["whakaniko", "elaborate, embellish, enhance"],
  ["whakapuaki", "express, articulate"],
  ["whakaputa", "delivery"],
  ["whakaraupapa", "sequence logically"],
  ["whakatau", "conclusion, resolution"],
  ["whakataukī", "proverbs"],
  ["whakaū", "reinforce"],
  ["whakawhanake", "develop"],
  ["wheako whaiaro", "personal experience"]
]
};

let selectedWords = [];

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function showFlashcards() {
  const container = document.getElementById('flashcards-section');
  container.innerHTML = '';
  if (selectedWords.length === 0) return container.textContent = 'No data found';

  selectedWords.forEach(row => {
    const card = document.createElement('div');
    card.className = 'card';
    card.textContent = row[0];
    card.onclick = () => {
      card.classList.toggle('flipped');
      card.textContent = card.classList.contains('flipped') ? row[1] : row[0];
    };
    container.appendChild(card);
  });
}

function showQuiz(category) {
  const container = document.getElementById('quiz-section');
  container.innerHTML = '';
  const categoryData = data[category] || [];
  const questions = selectedWords;
  if (questions.length < 4) return container.innerHTML = '<p>Not enough data for a full quiz.</p>';

  questions.forEach((row, i) => {
    const qDiv = document.createElement('div');
    qDiv.className = 'quiz-question';
    qDiv.innerHTML = `<b>${row[0]}</b>`;
    
    const optionsContainer = document.createElement('div');
    optionsContainer.className = 'quiz-options';

    const distractors = [];
    while (distractors.length < 3) {
      const r = categoryData[Math.floor(Math.random() * categoryData.length)][1];
      if (r !== row[1] && !distractors.includes(r)) distractors.push(r);
    }
    const options = shuffleArray([row[1], ...distractors]);
    options.forEach(opt => {
      const btn = document.createElement('button');
      btn.textContent = opt;
      btn.onclick = () => {
        if (btn.disabled) return;
        if (opt === row[1]) {
          btn.style.backgroundColor = 'lightgreen';
        } else {
          btn.style.backgroundColor = 'lightcoral';
        }
        optionsContainer.querySelectorAll('button').forEach(b => b.disabled = true);
      };
      optionsContainer.appendChild(btn);
    });
    qDiv.appendChild(optionsContainer);
    container.appendChild(qDiv);
  });
}

function showMatching() {
  const sectionContainer = document.getElementById('matching-section');
  const matchedContainer = document.getElementById('matched-pairs');
  sectionContainer.innerHTML = '';
  matchedContainer.innerHTML = '';
  
  const pairs = selectedWords.filter(row => row[0] && row[1]);
  if (pairs.length === 0) {
      sectionContainer.textContent = 'No data found';
      return;
  }

  const matchingContainer = document.createElement('div');
  matchingContainer.className = 'matching-container';
  sectionContainer.appendChild(matchingContainer);

  const leftCol = document.createElement('div');
  leftCol.className = 'matching-box';
  const rightCol = document.createElement('div');
  rightCol.className = 'matching-box';
  matchingContainer.appendChild(leftCol);
  matchingContainer.appendChild(rightCol);

  const leftWords = pairs.map(p => p[0]);
  const rightWords = shuffleArray(pairs.map(p => p[1]));

  let firstSelection = null;
  const palette = ['#FFB3B3', '#FFD1A3', '#FFF3A3', '#C9F7B5', '#B7F0F6', '#C9C6FF', '#F7B3FF', '#DE85A6','#F0A326', '#E9FC6D', "#28992a", "#43a6e8" ];
  let colorIndex = 0;

  function createBox(word, side) {
    const div = document.createElement('div');
    div.className = 'drag-item';
    div.innerText = word;
    div.dataset.side = side;
    div.dataset.word = word;
    div.onclick = () => handleClick(div);
    return div;
  }

  function handleClick(box) {
    if (box.style.backgroundColor) return;
    if (!firstSelection) {
      firstSelection = box;
      box.style.border = '3px solid blue';
    } else if (box.dataset.side !== firstSelection.dataset.side) {
      const leftWord = firstSelection.dataset.side === 'left' ? firstSelection.dataset.word : box.dataset.word;
      const rightWord = firstSelection.dataset.side === 'right' ? firstSelection.dataset.word : box.dataset.word;
      const correctRight = pairs.find(p => p[0] === leftWord)?.[1];
      if (rightWord === correctRight) {
        const color = palette[colorIndex % palette.length];
        colorIndex++;
        [firstSelection, box].forEach(el => {
          el.style.backgroundColor = color;
          el.style.border = '2px solid #666';
          el.onclick = null;
        });
        
        const pairChip = document.createElement('div');
        pairChip.className = 'pair';
        pairChip.style.backgroundColor = color;
        pairChip.innerHTML = `<span>${leftWord}</span><span class="sep">↔</span><span>${rightWord}</span>`;
        matchedContainer.appendChild(pairChip);

      } else {
        firstSelection.style.border = '2px solid red';
        box.style.border = '2px solid red';
        setTimeout(() => {
            firstSelection.style.border = '2px solid #666';
            box.style.border = '2px solid #666';
        }, 500);
      }
      firstSelection = null;
    } else { 
        firstSelection.style.border = '2px solid #666';
        firstSelection = box;
        box.style.border = '3px solid blue';
    }
  }

  leftWords.forEach(w => leftCol.appendChild(createBox(w, 'left')));
  rightWords.forEach(w => rightCol.appendChild(createBox(w, 'right')));
}


function updateContent() {
  const category = document.getElementById('category-selector').value;
  const categoryData = data[category] || [];
  selectedWords = shuffleArray([...categoryData]).slice(0, 12);
  
  showFlashcards();
  showQuiz(category);
  showMatching();
}

updateContent();
</script>
<div class="wrap" style="text-align: center; margin-top: 40px;">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/1Ba7iNpmw5Q" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
</body>
</html>