<!doctype html>
<html lang="mi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>He Arawhata Reo â€” Grammar Progression (L1â€“L3)</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#fbfbff; --card:#ffffff; --accent1:#ffb4c6; --accent2:#ffd8a8; --accent3:#c7f9cc;
      --pad:1rem; --radius:14px; --gap:1rem; --maxw:1100px;
      --purple:#7c3aed; --blue:#2563eb; --green:#16a34a; --orange:#fb923c; --gold:#f59e0b; --red:#ef4444;
    }
    *{box-sizing:border-box}
    html{font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Arial; -webkit-font-smoothing:antialiased}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#f7fbff);display:flex;align-items:flex-start;justify-content:center;padding:clamp(12px,3vw,28px)}
    .app{width:100%;max-width:var(--maxw)}
    header{position:sticky;top:0;z-index:10;backdrop-filter:blur(6px);background:rgba(255,255,255,0.7);border-radius:12px;padding:.6rem .9rem;margin-bottom:.8rem;display:flex;align-items:center;gap:.6rem}
    header h1{font-size:clamp(1.1rem,2.2vw,1.5rem);margin:0}
    main{display:grid;gap:var(--gap)}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:var(--gap);justify-items:center}
    .card{background:var(--card);border-radius:var(--radius);padding:clamp(.9rem,2vw,1.2rem);box-shadow:0 6px 18px rgba(20,30,60,0.06);min-height:110px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%}
    .big-btn{appearance:none;border:0;cursor:pointer;padding:1rem 1.4rem;border-radius:12px;font-weight:700;font-size:clamp(.95rem,1.8vw,1.05rem);width:100%;max-width:320px;transition:transform 0.15s ease}
    .big-btn:hover{transform:scale(1.03)}
    .lvl1{background:linear-gradient(135deg,var(--accent1),#ffd1e8)}
    .lvl2{background:linear-gradient(135deg,var(--accent2),#fff2d0)}
    .lvl3{background:linear-gradient(135deg,var(--accent3),#d9f9e0)}
    .blue-btn{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:white}
    .red-btn{background:linear-gradient(135deg,#ef4444,#f87171);color:white}
    .submenu{display:none;gap:var(--gap)}
    .submenu.active{display:block}
    .sticky-title{position:sticky;top:0;background:transparent;padding:.4rem 0;font-weight:700}
    .content{display:none;background:var(--card);padding:clamp(.8rem,2vw,1.2rem);border-radius:12px;box-shadow:0 10px 30px rgba(12,20,40,0.06)}
    .content.active{display:block}
    .content h2{margin-top:0;font-size:clamp(1.05rem,2vw,1.4rem)}
    .meta{margin-bottom:.6rem;color:#666;font-size:.95rem}
    .examples{display:grid;gap:.6rem}
    .btn-row{display:flex;gap:.6rem;flex-wrap:wrap;margin-top:1rem}
    .ghost{background:transparent;border:1px solid #d6dbe8;padding:.5rem .7rem;border-radius:10px;cursor:pointer}
    footer{margin-top:1rem;color:#666;font-size:.9rem;text-align:center}
    /* Two-button row */
    .two-btn-row{display:flex;justify-content:center;gap:1.5rem;width:100%;flex-wrap:wrap;margin-top:1rem}
    .two-btn-row .big-btn{max-width:420px;flex:1 1 300px}
    @media (max-width:420px){.card{min-height:92px}}
  </style>
</head>
<body>
  <div class="app" id="app">
    <header>
      <h1>He Arawhata Reo â€” Grammar Progression</h1>
      <div style="margin-left:auto;font-size:.9rem;color:#444">Responsive â€¢ NCEA L1â€“L3</div>
    </header>

    <main>
      <!-- MAIN MENU -->
      <section id="mainMenu">
        <div class="grid" style="justify-items:center;">
          <div class="card"><button class="big-btn lvl1" data-open="level1">NCEA Level 1</button></div>
          <div class="card"><button class="big-btn lvl2" data-open="level2">NCEA Level 2</button></div>
          <div class="card"><button class="big-btn lvl3" data-open="level3">NCEA Level 3</button></div>
        </div>
        <!-- NEW BUTTONS -->
        <div class="two-btn-row">
          <a href="https://www2.nzqa.govt.nz/assets/NCEA/Subject-pages/Te-Reo-Maori/Te-Reo-Maori-grammar-clarifications.pdf" target="_blank">
            <button class="big-btn blue-btn">Grammar Guide</button>
          </a>
          <a href="https://drive.google.com/file/d/1kG-tCbictVubTsPKS38ZMUnHbRpKvuPd/view" target="_blank">
            <button class="big-btn red-btn">Full Grammar Guide</button>
          </a>
        </div>
      </section>

      <!-- SUBMENUS -->
      <section id="level1" class="submenu">
        <div class="sticky-title">Level 1 â€” sentence structures</div>
        <div class="grid" id="level1Btns"></div>
        <div class="btn-row"><button class="ghost" data-back="mainMenu">Return to Main Menu</button></div>
      </section>

      <section id="level2" class="submenu">
        <div class="sticky-title">Level 2 â€” sentence structures</div>
        <div class="grid" id="level2Btns"></div>
        <div class="btn-row"><button class="ghost" data-back="mainMenu">Return to Main Menu</button></div>
      </section>

      <section id="level3" class="submenu">
        <div class="sticky-title">Level 3 â€” sentence structures</div>
        <div class="grid" id="level3Btns"></div>
        <div class="btn-row"><button class="ghost" data-back="mainMenu">Return to Main Menu</button></div>
      </section>
      
      <!-- CONTENT AREA -->
      <section id="contentArea" class="content" aria-live="polite">
        <h2 id="contentTitle">Title</h2>
        <div class="meta" id="contentMeta">Level â€¢ Category</div>
        <div class="examples" id="contentExamples"></div>
        <div class="btn-row">
          <button class="ghost" id="backToLevel">Return to NCEA Level</button>
          <button class="ghost" id="backToMain">Return to Main Menu</button>
        </div>
      </section>

    </main>
  </div>

  <script>
    /* COMPLETE DATA: Levels 1â€“3 with Teaching Tables + examples (sourced from PDF) */
    const data = {
      level1: {
        title: 'NCEA Level 1',
        categories: {
          'Rereingoa': {
            desc: 'Sentences that focus on the NAME of an object, person or other living thing (identity & naming).',
            table: {
              what: 'Identify or name people, objects, places. Focus on identity and labeling.',
              how: 'Ko + (name/noun) or He + noun + adjective; questions: Ko wai? He aha?',
              why: 'To state identity, ask who/what things are, correct assumptions.',
              withWhat: 'Ko, He, tÄ“nei/tÄ“nÄ/tÄ“rÄ, Kei te, wai, wai?; pÅ«mua: a / o / taku / tÅ',
              ao: '1.2, 1.4 (Introduce self and others; communicate personal information).'
            },
            examples:[
              'Ko HÄ“mi tÅku ingoa. â€” My name is HÄ“mi.',
              'Ko taku whaea tÄ“nÄ. â€” Thatâ€™s my mother.',
              'Ko te tumuaki tÄ“rÄ o te kura. â€” Thatâ€™s the principal of the school.',
              'Ko wai tÄ“rÄ tamaiti? â€” Who is that child?',
              'Ko te aha tÄ“nei rÄ? â€” What day is it today?',
              'He kuia ngÄkau mÄhaki ia. â€” She is a kind old woman.',
              'He kaiako a TÄmati. â€” TÄmati is a teacher.',
              'Ko te koroua nihoniho o te marae tÄ“rÄ. â€” Thatâ€™s the grumpy old man of the marae.',
              'He koroua nihoniho a Hone. â€” Hone is a grumpy old man.',
              'TÄ“rÄ pea ka haere atu mÄtou. â€” Maybe weâ€™ll go.',
              'He aha te kupu MÄori mÅ te car? â€” What is the MÄori word for â€œcarâ€?',
              'He pÄtai tÄku ki a koe. â€” I have a question for you.',
              'KÄore e kore ka tae atu ia. â€” No doubt we will get there.',
              'Ehara au i a Hone. â€” I am not Hone.',
              'Ehara tÄ“nÄ i taku whaea. â€” Thatâ€™s not my mother.'
            ]
          },
          'Reremahi (Poro & Wheako)':{
            desc:'Action sentences: past/present/future, commands and habitual actions.',
            table:{
              what:'Describe actions done by an actor (events, routines, commands).',
              how:'I (past), Kei te / E...ana (present continuous), Ka / Kia (future/imperative), Me (should).',
              why:'To report events, give instructions, describe routines and experiences.',
              withWhat:'I, Kua, Ka, Kei te, E...ana, Me, imperatives (E ...!), KÄore + i (negative past).',
              ao:'3.1, 5.1 (Communicate past activities; habits and routines).'
            },
            examples:[
              'I te moe te whÄnau â€” The family slept.',
              'Kua oho a TÄ«moti â€” TÄ«moti has woken up.',
              'Me oma tÄtou â€” We should run.',
              'Ka tÅ« te hui ÄpÅpÅ â€” The meeting is tomorrow.',
              'Ka tÅ« rÄtou, ka katakata â€” They stood and laughed.',
              'E oma! â€” Run!',
              'E tÅ«! â€” Stand up!',
              'E moe! â€” Go to sleep!',
              'KÄore te whÄnau i te moe. â€” The family isnâ€™t sleeping.',
              'KÄore anÅ a TÄ«moti kia oho. â€” TÄ«moti hasnâ€™t woken up yet.',
              'Me kaua tÄtou e oma. â€” We shouldnâ€™t run.',
              'He aha a Hone i pukuriri ai? â€” Why did Hone get angry?',
              'He hÅhÄ nÅna. â€” He was annoyed.'
            ]
          },
          'RereÄhua':{
            desc:'Statives: describe states, qualities, feelings and conditions.',
            table:{
              what:'Describe condition, qualities and emotions.',
              how:'He + adjective + (noun); Kei te + adjective; Kua + adjective; KÄore + ... + i te + adjective for negative.',
              why:'To communicate how things are or how people feel.',
              withWhat:'He, Kei te, Kua, KÄore; adjectives (pukuriri, harikoa, Ätaahua, mÄkÅ«, maroke).',
              ao:'2.5, 5.2 (Describe present/past states and feelings).'
            },
            examples:[
              'He Ätaahua tÄ“nei wÄhi. â€” This place is beautiful.',
              'Kua maroke ngÄ kÄkahu. â€” The clothes are now dry.',
              'I wera rawa a roto o te akomanga. â€” It was too hot in the classroom.',
              'Kei te pÄ“hea ngÄ mahi? Kei te pai. â€” Howâ€™s your work going? Itâ€™s good.',
              'He Ähua reka ngÄ kai. â€” The food is kind of nice.',
              'Kua tino Ätaahua te kÄinga nei. â€” This house is now very beautiful.',
              'KÄore tÄ“nei wÄhi i te tino Ätaahua. â€” This place isnâ€™t very beautiful.'
            ]
          },
          'RerewÄhi (Place & Location)':{
            desc:'Location and place expressions.',
            table:{
              what:'Locate events, people, and objects in space.',
              how:'I/Kei + location; Questions use I hea?/Kei hea?; postpositional phrases for place.',
              why:'To tell where things are or where events happen.',
              withWhat:'konei/konÄ/korÄ, uta, tÄtahi, runga, raro; particles: i, ki, ki te.',
              ao:'1.5, 3.2 (Communicate about location and events).'
            },
            examples:[
              'I hea te hui? I Paraparaumu. â€” Where was the meeting? In Paraparaumu.',
              'Kei te kura te pÅ whakanui i a Matariki. â€” The Matariki night celebration is at school.'
            ]
          },
          'Rerekaimahi (Actor & Agency)':{
            desc:'Agent and instrument expressions (NÄ / MÄ / NÅ).',
            table:{
              what:'Show who performed an action or who something is for.',
              how:'NÄ (by/agent) + actor + i + verb; MÄ (for) + person; NÅ (belonging to).',
              why:'To attribute agency and ownership or responsibility.',
              withWhat:'NÄ, MÄ, NÅ, Ehara nÄ... (negation), possessive particles (taku, tÅku, Åku).',
              ao:'4.3, 5.3 (Communicate obligations and past habits).'
            },
            examples:[
              'NÄ wai te keke i tunu? â€” Who cooked the cake?',
              'NÄku te keke i tunu. â€” I cooked the cake.',
              'Ehara nÄku te keke i tunu. â€” I didnâ€™t cook the cake.'
            ]
          },
          'Reretau (Numbers)':{
            desc:'Counting and expressions of quantity.',
            table:{
              what:'Indicate number, amount or quantity.',
              how:'Use kotahi, toko[rua], e + number + ngÄ + noun, tekau + ngÄ + noun, or numeric phrases.',
              why:'To count or quantify objects and people.',
              withWhat:'Kotahi, toko..., tekau, mano, rau; E hia? Kia hia?',
              ao:'2.4, 5.3 (Communicate amounts, numbers and time).'
            },
            examples:[
              'Kotahi mano, e rima rau, e whÄ tekau. â€” One thousand, five hundred and forty.',
              'E ono mano, e rua rau, tekau mÄ tahi. â€” Six thousand, two hundred and eleven.',
              'Tekau ngÄ manu i te pae. â€” There were ten birds on the perch.',
              'TokowhÄ ngÄ tamariki i tae mai. â€” Four children arrived.'
            ]
          }
        }
      },

      level2: {
        title: 'NCEA Level 2',
        categories: {
          'Rereingoa (Possession & Relationships)': {
            desc: 'Names and possession (tÄ/tÅ, Ä/Å, Ko ... te ... o ...).',
            table: {
              what: 'Express relationships, ownership and description by association.',
              how: 'He + noun + tÄ/tÅ or Ko te + noun + o + person; negative: KÄore Ä/Å ...',
              why: 'To describe possessions, family relationships and attributes linked to people.',
              withWhat: 'tÄ/tÅ, Ä/Å, He..., Ko te... o..., pÅ«muri/pÅ«mua particles.',
              ao: '2.1, 2.2 (Communicate relationships and possessions).'
            },
            examples:[
              'He koti tÅ HÄ“nare. â€” HÄ“nare has a coat.',
              'He rorohiko tÄ Hine. â€” Hine has a computer.',
              'KÄore Å HÄ“nare koti. â€” HÄ“nare does not have a coat.',
              'KÄore Ä Hine rorohiko. â€” Hine doesnâ€™t have a computer.',
              'PÄtai: He waka rÄnei tÅ tÅ whÄnau? â€” Does your family have a car?'
            ]
          },
          'Reremahi (Wheako / Intentions / Continuity)': {
            desc: 'Experience verbs and intentional/continuous actions.',
            table: {
              what: 'Describe experiences, feelings, ongoing activities and intentions.',
              how: 'I (past experiences) + verb + ki; E ... ana for continuous; Ka/Kua for future/completion; Me/Kia for requirements.',
              why: 'To narrate experiences and express reason, intention, or ongoing action.',
              withWhat: 'rongo/kite (experience verbs), E ... ana, I, Kua, Ki + infinitival phrases.',
              ao: '5.1, 6.4 (Communicate experiences and formal situations).'
            },
            examples:[
              'E whakamomori ana au ki te wÄ kÄinga. â€” I yearn for home.',
              'Ka aroha au ki tÅku kuia. â€” I love my grandmother.',
              'I rongo au i Ä“rÄ kÅrero. â€” I heard those comments.',
              'I kite au i ngÄ waka e tere ana i te moana. â€” I saw the canoes floating at sea.',
              'Kua mutu ngÄ mahi â€” The work has finished.'
            ]
          },
          'RerehÄngÅ« (Passive & Instructional Passives)': {
            desc: 'Passive voice and instructive passives (kawea, paraihia, tukuna).',
            table: {
              what: 'Describe actions done to objects or people; show agent with e or nÄ.',
              how: 'Passive endings (âˆ’ia/âˆ’a) with agent phrase: e + actor; negative passive: KÄore i ... e ...',
              why: 'To emphasise the object or result rather than the actor.',
              withWhat: 'I + passive verb + e actor; Ka + passive; KÄore i te + passive for negation.',
              ao: '5.1, 6.1 (Communicate passive voice and instructions).'
            },
            examples:[
              'I te kawea ngÄ pÄ“ke e Hone. â€” The bags were carried by Hone.',
              'Kua paraihia e TÄ«moti ngÄ hÄ“ki. â€” TÄ«moti has fried the eggs.',
              'Ka tukuna e Tame ngÄ tamariki ki te kura. â€” Tame will drop off the children to school.',
              'KÄore i te kawea ngÄ pÄ“ke e Hone. â€” The bags arenâ€™t being carried by Hone.'
            ]
          },
          'RereÄhua (Statives & Resultatives)': {
            desc: 'Stative verbs, result states and postposed particles (ake, iho).',
            table: {
              what: 'Describe results, feelings, and gradual changes in state.',
              how: 'Use stative verbs (wareware, maringi, mate) and pÅ«muri particles (ake, iho, haere).',
              why: 'To show how conditions changed or to compare states.',
              withWhat: 'Kua + stative, Kei te + stative + haere, postposed particles: ake/atu/Ä«ho.',
              ao: '5.2, 5.4 (Describe emotions, compare and contrast).'
            },
            examples:[
              'I mahue au i te pahi. â€” I was left behind by the bus.',
              'I oti i ngÄ Äkonga ngÄ mahi. â€” The work was completed by the students.',
              'I wareware i a au aku mahi i te kÄinga. â€” I forgot my work at home.',
              'Kua pau haere ngÄ kai. â€” The food is being consumed.'
            ]
          },
          'RerewÄ (Time Expressions & Fronting)': {
            desc: 'Fronted time phrases and scheduled/conditional time clauses.',
            table: {
              what: 'Place events in time or create fronted temporal clauses.',
              how: 'Ä’.g. Ä€ te..., Hei te..., I a ... e ... ana, NÅ ... e ... ana.',
              why: 'To emphasise timing, arrange narrative sequence and highlight conditions.',
              withWhat: 'Ä€ te/Hei te/MÅ te, I a... e ... ana, NÅ + noun + e ... ana.',
              ao: '7.1, 7.5 (Plan future events and recount past events).'
            },
            examples:[
              'Ä€ te Mane, ka tÄ«mata te kura. â€” On Monday, school starts.',
              'Hei te Hatarei, ka pÄti tÄtou. â€” On Saturday, we will party.',
              'MÅ te wiki, ka kÅrerotia te reo MÄori. â€” For the week, te reo MÄori will be spoken.',
              'I a Pita e hÄ«koi ana ka hinga ia. â€” When Pita was walking he fell.'
            ]
          },
          'RerepÄnga (Possession & Benefactive)': {
            desc: 'NÄ / NÅ / MÅ / MÄ forms; who something is for and origin.',
            table: {
              what: 'Express origin, possession and beneficiary relationships.',
              how: 'Use NÄ (agent/possession), NÅ (origin/possession), MÅ/MÄ (for/benefactive).',
              why: 'To mark relationships of possession, origin and intended recipient.',
              withWhat: 'NÄ, NÅ, MÅ, MÄ, Ehara nÄ/nÅ for negation.',
              ao: '7.2, 7.4 (Offer/respond to advice and give ownership).'
            },
            examples:[
              'NÄ Hine te Ä«mÄ“ra. â€” The email belongs to Hine.',
              'NÅ wai te waka rÄ? â€” Whose car is that?',
              'MÅ TÄmati te koti. â€” The coat is for TÄmati.',
              'MÄ wai Ä“nei kai? â€” Who are these foods for?'
            ]
          },
          'NgÄ Nuka Reo (Idioms & Literary Devices)': {
            desc: 'KÄ«waha, whakataukÄ«, kupu whakarite and figurative language for L2.',
            table: {
              what: 'Common idioms, proverbs and similes used to enrich language.',
              how: 'KÄ«waha (fixed phrases), whakataukÄ« (proverbs), kupu whakarite (metaphors and similes).',
              why: 'To build cultural/idiomatic competence and style in speech and writing.',
              withWhat: 'Examples: Ka pai, Ka rawe, Ehara taku toa..., Ä€nÅ nei, He ... pÄ“rÄ ...',
              ao: '5.4, 7.3 (Use idioms and rhetorical devices to express opinion).'
            },
            examples:[
              'Ka pai â€” Neat',
              'Ka rawe â€” Excellent',
              'Kia kaha â€” Be strong!',
              'Ehara taku toa i te toa takitahi... â€” My success is not just my own.',
              'He manu tÄ«oriori â€” a beautiful singer (metaphor).'
            ]
          }
        }
      },

      level3: {
        title: 'NCEA Level 3',
        categories: {
          'RerehÄngÅ« (Advanced Passive & Potential)': {
            desc: 'Pseudo-passive, potential and causative passive forms (taea, he mea ... e ...).',
            table: {
              what: 'Advanced passive forms, potentials (ability) and pseudo-passives used in formal texts.',
              how: 'He mea + verb + e + agent; Ka taea e ... te ... for ability; negative: KÄore e taea e ...',
              why: 'To shift focus, show potential/ability and for formal/written constructions.',
              withWhat: 'He mea..., Ka taea e..., I/Ka/Kua/E...ana/Me; negation patterns for potential.',
              ao: '7.1, 7.5 (Formal discourse, advanced grammar).'
            },
            examples:[
              'He mea kÅhete ia e te tumuaki. â€” He was scolded by the principal.',
              'Ka taea e rÄtou te whare te hanga. â€” They can build the house.',
              'I taea e rÄtou Ä rÄtou kai te tunu. â€” They were able to cook their food.',
              'E riro ai i a koe te tÅ«ranga, me taea e koe te kÅrero MÄori. â€” To get the job, you must be able to speak MÄori.',
              'KÄore e taea e rÄtou te whare te hanga. â€” They canâ€™t build the house.'
            ]
          },
          'RereÄhua (Comparatives & Complex Statives)': {
            desc: 'Comparisons, complex statives with postposed particles and result states.',
            table: {
              what: 'Comparatives, resultative forms and complex adjectives/statives.',
              how: 'He + adjective + ake/atu + i ...; Kua + adjective + ake/atu; postposed particles (ake, iho, haere).',
              why: 'To compare, grade and show results or change in condition.',
              withWhat: 'ake/atu/iho, kua + adjective + ake/atu, comparatives: He ... ake/atu i ...',
              ao: '5.4, 7.3 (Describe, compare and contrast at higher complexity).'
            },
            examples:[
              'I wera ake tÄ“nei raumati i tÄ“rÄ raumati. â€” This summer was hotter than last summer.',
              'Kua iti iho te utu o ngÄ kai. â€” The price of food had decreased.',
              'He pai ake tÄ“nei kaupapa i tÄ“rÄ atu. â€” This topic is better than the other.'
            ]
          },
          'RerepÄnga (Complex Relations & Cause/Benefit)': {
            desc: 'Cause/benefit lines, nominal relations and complex possession.',
            table: {
              what: 'Show causal links, beneficiaries and nuanced possession/relations.',
              how: 'NÅ/NÄ/MÅ + nouns, NÄ te mea + cause; passive/causal connectors.',
              why: 'To explain reasons, attribution, and who benefits from actions.',
              withWhat: 'NÄ te mea, NÄ, NÅ, MÅ, MÅku nei (in my opinion), e ai ki (according to).',
              ao: '7.2, 7.4 (Give reasons and show relationships in argument).'
            },
            examples:[
              'NÄ Hine te Ä«mÄ“ra. â€” The email was by Hine.',
              'MÅ taku whÄnau tÄ“nei koha. â€” This gift is for my family.',
              'NÄ te ua i whakaroa te haerenga. â€” The rain delayed the journey.',
              'MÅ te ngÄkau atawhai i whakawhiwhia ai ia ki te tohu. â€” She received the award for kindness.'
            ]
          },
          'RerewÄ (Conditional & Temporal Clauses)': {
            desc: 'Complex time/conditional clauses, advanced fronting and temporal connectors.',
            table: {
              what: 'Complex temporal clauses and conditional sequences for argument and narrative.',
              how: 'I te + noun, Ä te/ hei te + noun; I a ... e ... ana; conditional conjunctions and subordinators.',
              why: 'To structure longer narratives, instructions, or formal writing.',
              withWhat: 'I a... e ... ana, Ä€ te..., Hei te..., NÄwai nÄwai, I muri mai.',
              ao: '7.1, 7.5 (Narrative sequencing and future planning).'
            },
            examples:[
              'I te taenga mai o te kaiwawao, ka tÄ«mata te kÄ“mu. â€” When the referee arrived, the game started.',
              'Kia oti te mahi, ka hoki mÄtou ki te kÄinga. â€” When the work is completed, we will return home.',
              'Ka tae atu ana ia, ka tukuna ngÄ kaitaunaki. â€” When he arrives, the supporters will be sent.'
            ]
          },
          'NgÄ Nuka Reo (High-level literary devices)': {
            desc: 'Rhetorical and figurative devices used in speeches and advanced writing.',
            table: {
              what: 'Higher-level metaphors, personification, whakataukÄ« and rhetorical idioms.',
              how: 'Use extended metaphor, juxtaposition, rhetorical questions, repetition for effect.',
              why: 'To enrich oratory, essays and formal texts with cultural resonance and persuasive power.',
              withWhat: 'Whakatangata, Kupu whakarite, WhakataukÄ«, KÄ«waha and rhetorical devices.',
              ao: '7.3, 7.5 (Express/respond to approval and disapproval; advanced discourse).'
            },
            examples:[
              'Ä€nÅ nei he tÅtara haemata â€” Like a lofty tÅtara (metaphor for strength).',
              'He manawa tÄ«tÄ« â€” A person of great endurance.',
              'Whaia te iti kahurangi â€” Pursue the treasured goal (seek excellence).',
              'MÄ te huruhuru ka rere te manu â€” Adornment enables success.'
            ]
          },
          'RerewhakamÄrama (Connectives & Explanatory Forms)': {
            desc: 'Conjunctions and connective phrases used for explanation and argument.',
            table: {
              what: 'Link clauses, give reasons and present contrasts or results.',
              how: 'Use NÄ te mea, I te mea, Ahakoa, NÅ reira, InÄ hoki and similar connectives.',
              why: 'To structure explanations, show cause/effect and to argue a point coherently.',
              withWhat: 'NÄ te mea, I te mea, Ahakoa, NÅ reira, Me/Ka/Hei for consequence.',
              ao: '7.2, 7.4 (Explain reasons and connect ideas in discourse).'
            },
            examples:[
              'NÅ te mea i te ua, kÄore mÄtou i haere ki waho. â€” Because it rained, we didnâ€™t go outside.',
              'Ahakoa te makariri, i haere tonu rÄtou. â€” Despite the cold, they kept going.',
              'NÅ reira, me ako tÄtou i te reo MÄori. â€” Therefore, we must learn MÄori.'
            ]
          }
        }
      }
    };

    /* UI Rendering Helpers */
    function makeButtons(levelKey, container){
      const lvl = data[levelKey];
      container.innerHTML = '';
      if(!lvl || !lvl.categories) return;
      for(const cat of Object.keys(lvl.categories)){
        const d = lvl.categories[cat];
        const card = document.createElement('div'); card.className='card';
        const btn = document.createElement('button'); btn.className='big-btn'; btn.textContent = cat; btn.dataset.cat = cat; btn.dataset.level = levelKey;
        // style level-specific
        btn.classList.add(levelKey === 'level1' ? 'lvl1' : levelKey === 'level2' ? 'lvl2' : 'lvl3');
        btn.addEventListener('click', ()=> openContent(levelKey,cat));
        card.appendChild(btn);
        const p = document.createElement('p'); p.style.marginTop='.6rem'; p.style.fontSize='.9rem'; p.style.color='#555'; p.textContent = d.desc || '';
        card.appendChild(p);
        container.appendChild(card);
      }
    }

    makeButtons('level1',document.getElementById('level1Btns'));
    makeButtons('level2',document.getElementById('level2Btns'));
    makeButtons('level3',document.getElementById('level3Btns'));

    // open submenus from main
    document.querySelectorAll('[data-open]').forEach(btn=>btn.addEventListener('click',()=>{
      const id = btn.dataset.open;
      document.getElementById('mainMenu').style.display='none';
      document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.getElementById('backToLevel').dataset.level = id;
      document.getElementById('contentArea').classList.remove('active');
      window.scrollTo({top:0,behavior:'smooth'});
    }));

    document.querySelectorAll('[data-back]').forEach(b=>b.addEventListener('click',()=>{
      document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));
      document.getElementById('mainMenu').style.display='grid';
      document.getElementById('contentArea').classList.remove('active');
    }));

    // --- openContent (renders Teaching Notes table + examples) ---
    function openContent(levelKey,cat){
      const item = data[levelKey] && data[levelKey].categories ? data[levelKey].categories[cat] : null;
      document.getElementById('contentTitle').textContent = cat || 'Content';
      document.getElementById('contentMeta').textContent = `${(data[levelKey] && data[levelKey].title) ? data[levelKey].title : levelKey} â€” ${cat}`;

      const examples = document.getElementById('contentExamples');
      examples.innerHTML = '';

      if(item){
        // Teaching notes (table) if present
        if(item.table){
          const tbl = document.createElement('div');
          tbl.className = 'teach-table';
          tbl.innerHTML = `
            <details open>
              <summary>ðŸ“˜ Teaching Notes</summary>
              <div class="tbl">
                <div><strong>ðŸŸ£ What:</strong> ${item.table.what || ''}</div>
                <div><strong>ðŸ”µ How:</strong> ${item.table.how || ''}</div>
                <div><strong>ðŸŸ¢ Why:</strong> ${item.table.why || ''}</div>
                <div><strong>ðŸŸ  With what:</strong> ${item.table.withWhat || ''}</div>
                <div><strong>ðŸŸ¡ AO:</strong> ${item.table.ao || ''}</div>
              </div>
            </details>
          `;
          examples.appendChild(tbl);
        }

        // description / intro
        if(item.desc){
          const intro = document.createElement('p');
          intro.style.fontWeight = '600';
          intro.style.margin = '0 0 .6rem 0';
          intro.textContent = item.desc;
          examples.appendChild(intro);
        }

        // Group examples by type if simple markers exist (e.g., include 'â€”' with translation)
        if(Array.isArray(item.examples) && item.examples.length){
          item.examples.forEach(ex=>{
            const det = document.createElement('details');
            const sum = document.createElement('summary');
            // show the MÄori clause as summary (before ' â€” ' if present)
            sum.textContent = ex.split(' â€” ')[0];
            const p = document.createElement('div');
            p.style.padding = '.6rem 0';
            p.textContent = ex;
            det.appendChild(sum);
            det.appendChild(p);
            examples.appendChild(det);
          });
        } else {
          const p = document.createElement('p'); p.textContent = 'No examples available for this category yet.'; examples.appendChild(p);
        }
      } else {
        const p = document.createElement('p'); p.textContent = 'This category has not been filled yet.'; examples.appendChild(p);
      }

      // Show content area and hide other menus
      document.getElementById('contentArea').classList.add('active');
      document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));

      // remember which level we're in for the "Return to NCEA Level" button
      document.getElementById('backToLevel').dataset.level = levelKey;

      // scroll smoothly to the top of the content area
      document.getElementById('contentArea').scrollIntoView({behavior:'smooth'});
    }

    // Ensure any buttons that opened categories call our openContent function
    // (This protects against earlier elements that might have been created before this script section)
    document.querySelectorAll('.big-btn').forEach(btn=>{
      if(btn.dataset.level && btn.dataset.cat){
        btn.addEventListener('click', ()=> openContent(btn.dataset.level, btn.dataset.cat));
      }
    });

    // Back to level button
    document.getElementById('backToLevel').addEventListener('click',()=>{
      const lvl = document.getElementById('backToLevel').dataset.level || 'level1';
      document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));
      const el = document.getElementById(lvl);
      if(el) el.classList.add('active');
      document.getElementById('contentArea').classList.remove('active');
    });

    // Back to main menu button
    document.getElementById('backToMain').addEventListener('click',()=>{
      document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));
      document.getElementById('mainMenu').style.display='grid';
      document.getElementById('contentArea').classList.remove('active');
    });

    // Accessibility: Escape closes content and returns to main menu
    document.addEventListener('keydown',(e)=>{
      if(e.key === 'Escape'){
        document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));
        document.getElementById('mainMenu').style.display='grid';
        document.getElementById('contentArea').classList.remove('active');
      }
    });

    // Small helper: make sure submenus are accessible via keyboard (enter on focused buttons)
    document.addEventListener('keyup',(e)=>{
      if(e.key === 'Enter' && document.activeElement && document.activeElement.classList.contains('big-btn')){
        const btn = document.activeElement;
        if(btn.dataset.level && btn.dataset.cat){
          openContent(btn.dataset.level, btn.dataset.cat);
        } else if(btn.dataset.open){
          // open submenu
          const id = btn.dataset.open;
          document.getElementById('mainMenu').style.display='none';
          document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('active'));
          const el = document.getElementById(id);
          if(el) el.classList.add('active');
          document.getElementById('backToLevel').dataset.level = id;
        }
      }
    });

  </script>
</body>
</html>