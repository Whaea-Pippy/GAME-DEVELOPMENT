<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Samoan Number Ordering Game</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 820px;
    margin: 20px auto;
    text-align: center;
    padding: 0 10px;
  }
  h1 { 
    font-size: 24px; 
    margin-bottom: 16px; 
  }

  .category-buttons { margin-bottom: 16px; }
  .category-button {
    padding: 10px 20px;
    margin: 5px;
    font-size: 16px;
    cursor: pointer;
    background-color: #6f42c1;
    color: white;
    border: none;
    border-radius: 6px;
    width: 100%;
    max-width: 200px;
  }
  .category-button:hover { background-color: #5a32a3; }
  .category-button.active {
    background-color: #28a745;
    outline: 2px solid yellow;
    color: white;
  }

  .order-options {
    margin-bottom: 16px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }
  .order-option, .cheat-button {
    padding: 8px 16px;
    margin: 5px;
    font-size: 14px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #6c757d;
    color: white;
    flex: 1;
    min-width: 120px;
    max-width: 160px;
  }
  .order-option:hover, .cheat-button:hover { background-color: #5a6268; }
  .order-option.active {
    outline: 2px solid yellow;
    background-color: #ffb84d;
    color: #000;
  }
  .cheat-button:disabled {
    background-color: #a89fc7;
    cursor: not-allowed;
  }

  #item-list {
    list-style: none;
    padding: 0;
    margin: 0 auto;
    max-width: 640px;
  }
  .item {
    padding: 10px;
    margin: 6px 0;
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    cursor: move;
    font-size: 18px;
    user-select: none;
    touch-action: none;
    border-radius: 6px;
    transition: background-color 0.2s ease;
  }
  .item.dragging { opacity: 0.5; background-color: #e9ecef; }
  .item.matariki { background-color: #ffe5b4; }

  #item-list.correct {
    background-color: #d4edda;
    transition: background-color 0.5s;
    padding: 10px;
    border-radius: 8px;
  }

  @media (max-width: 600px) {
    h1 { font-size: 20px; }
    .category-button { 
      font-size: 14px; 
      padding: 8px 16px; 
      max-width: 100%;
    }
    .order-option, .cheat-button {
      font-size: 12px;
      padding: 6px 12px;
      min-width: 100px;
      max-width: 100%;
    }
    .item { font-size: 16px; padding: 8px; }
  }
</style>
</head>
<body>
<h1>Samoan Ordering Game: Suggested Order</h1>

<div class="category-buttons">
  <button class="category-button" data-category="numbers">Reset Numbers</button>
</div>

<div class="order-options" id="order-options">
  <button class="order-option active" data-order="small-to-large">Order Small to Large</button>
  <button class="order-option" data-order="large-to-small">Order Large to Small</button>
  <button class="cheat-button" onclick="showTranslations()">Cheat</button>
</div>

<ul id="item-list"></ul>

<script>
const data = {
  numbers: [
    { word: "Tasi", translation: "1" },
    { word: "Lua", translation: "2" },
    { word: "Tolu", translation: "3" },
    { word: "Fā", translation: "4" },
    { word: "Lima", translation: "5" },
    { word: "Ono", translation: "6" },
    { word: "Fitu", translation: "7" },
    { word: "Valu", translation: "8" },
    { word: "Iva", translation: "9" },
    { word: "Sefulu", translation: "10" },
    { word: "Sefulu ma le tasi", translation: "11" },
    { word: "Sefulu ma le lua", translation: "12" },
    { word: "Sefulu ma le tolu", translation: "13" },
    { word: "Sefulu ma le fā", translation: "14" },
    { word: "Sefulu ma le lima", translation: "15" },
    { word: "Sefulu ma le ono", translation: "16" },
    { word: "Sefulu ma le fitu", translation: "17" },
    { word: "Sefulu ma le valu", translation: "18" },
    { word: "Sefulu ma le iva", translation: "19" },
    { word: "Lua sefulu", translation: "20" },
    { word: "Lua sefulu ma le tasi", translation: "21" },
    { word: "Lua sefulu ma le lua", translation: "22" },
    { word: "Lua sefulu ma le tolu", translation: "23" },
    { word: "Lua sefulu ma le fā", translation: "24" },
    { word: "Lua sefulu ma le lima", translation: "25" },
    { word: "Lua sefulu ma le ono", translation: "26" },
    { word: "Lua sefulu ma le fitu", translation: "27" },
    { word: "Lua sefulu ma le valu", translation: "28" },
    { word: "Lua sefulu ma le iva", translation: "29" },
    { word: "Tolu sefulu", translation: "30" },
    { word: "Tolu sefulu ma le tasi", translation: "31" },
    { word: "Tolu sefulu ma le lua", translation: "32" },
    { word: "Tolu sefulu ma le tolu", translation: "33" },
    { word: "Tolu sefulu ma le fā", translation: "34" },
    { word: "Tolu sefulu ma le lima", translation: "35" },
    { word: "Tolu sefulu ma le ono", translation: "36" },
    { word: "Tolu sefulu ma le fitu", translation: "37" },
    { word: "Tolu sefulu ma le valu", translation: "38" },
    { word: "Tolu sefulu ma le iva", translation: "39" },
    { word: "Fā sefulu", translation: "40" },
    { word: "Fā sefulu ma le tasi", translation: "41" },
    { word: "Fā sefulu ma le lua", translation: "42" },
    { word: "Fā sefulu ma le tolu", translation: "43" },
    { word: "Fā sefulu ma le fā", translation: "44" },
    { word: "Fā sefulu ma le lima", translation: "45" },
    { word: "Fā sefulu ma le ono", translation: "46" },
    { word: "Fā sefulu ma le fitu", translation: "47" },
    { word: "Fā sefulu ma le valu", translation: "48" },
    { word: "Fā sefulu ma le iva", translation: "49" },
    { word: "Lima sefulu", translation: "50" },
    { word: "Lima sefulu ma le tasi", translation: "51" },
    { word: "Lima sefulu ma le lua", translation: "52" },
    { word: "Lima sefulu ma le tolu", translation: "53" },
    { word: "Lima sefulu ma le fā", translation: "54" },
    { word: "Lima sefulu ma le lima", translation: "55" },
    { word: "Lima sefulu ma le ono", translation: "56" },
    { word: "Lima sefulu ma le fitu", translation: "57" },
    { word: "Lima sefulu ma le valu", translation: "58" },
    { word: "Lima sefulu ma le iva", translation: "59" },
    { word: "Ono sefulu", translation: "60" },
    { word: "Ono sefulu ma le tasi", translation: "61" },
    { word: "Ono sefulu ma le lua", translation: "62" },
    { word: "Ono sefulu ma le tolu", translation: "63" },
    { word: "Ono sefulu ma le fā", translation: "64" },
    { word: "Ono sefulu ma le lima", translation: "65" },
    { word: "Ono sefulu ma le ono", translation: "66" },
    { word: "Ono sefulu ma le fitu", translation: "67" },
    { word: "Ono sefulu ma le valu", translation: "68" },
    { word: "Ono sefulu ma le iva", translation: "69" },
    { word: "Fitu sefulu", translation: "70" },
    { word: "Fitu sefulu ma le tasi", translation: "71" },
    { word: "Fitu sefulu ma le lua", translation: "72" },
    { word: "Fitu sefulu ma le tolu", translation: "73" },
    { word: "Fitu sefulu ma le fā", translation: "74" },
    { word: "Fitu sefulu ma le lima", translation: "75" },
    { word: "Fitu sefulu ma le ono", translation: "76" },
    { word: "Fitu sefulu ma le fitu", translation: "77" },
    { word: "Fitu sefulu ma le valu", translation: "78" },
    { word: "Fitu sefulu ma le iva", translation: "79" },
    { word: "Valu sefulu", translation: "80" },
    { word: "Valu sefulu ma le tasi", translation: "81" },
    { word: "Valu sefulu ma le lua", translation: "82" },
    { word: "Valu sefulu ma le tolu", translation: "83" },
    { word: "Valu sefulu ma le fā", translation: "84" },
    { word: "Valu sefulu ma le lima", translation: "85" },
    { word: "Valu sefulu ma le ono", translation: "86" },
    { word: "Valu sefulu ma le fitu", translation: "87" },
    { word: "Valu sefulu ma le valu", translation: "88" },
    { word: "Valu sefulu ma le iva", translation: "89" },
    { word: "Iva sefulu", translation: "90" },
    { word: "Iva sefulu ma le tasi", translation: "91" },
    { word: "Iva sefulu ma le lua", translation: "92" },
    { word: "Iva sefulu ma le tolu", translation: "93" },
    { word: "Iva sefulu ma le fā", translation: "94" },
    { word: "Iva sefulu ma le lima", translation: "95" },
    { word: "Iva sefulu ma le ono", translation: "96" },
    { word: "Iva sefulu ma le fitu", translation: "97" },
    { word: "Iva sefulu ma le valu", translation: "98" },
    { word: "Iva sefulu ma le iva", translation: "99" }
  ]
};

let currentCategory = "numbers";
let currentOrder = "small-to-large";
let translationsVisible = false;
let cheatTimeout = null;

const itemList = document.getElementById("item-list");
const orderOptions = document.getElementById("order-options");
const cheatButton = document.querySelector(".cheat-button");

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function getRandomSevenItems() {
  const shuffled = shuffle([...data.numbers]);
  return shuffled.slice(0, 7);
}

function setOrderButtonHighlights() {
  document.querySelectorAll(".order-option").forEach(btn => {
    btn.classList.toggle("active", btn.dataset.order === currentOrder);
  });
}

function setCardColours() {
  document.querySelectorAll(".item").forEach(li => {
    li.classList.remove("matariki");
    li.classList.add("matariki");
  });
}

function renderList(category) {
  itemList.classList.remove("correct");
  itemList.innerHTML = "";
  let items = getRandomSevenItems();
  items = shuffle(items);
  items.forEach(item => {
    const li = document.createElement("li");
    li.className = "item matariki";
    li.dataset.word = item.word;
    li.innerText = item.word;
    li.draggable = true;
    itemList.appendChild(li);
  });
  setOrderButtonHighlights();
  setCardColours();
  setupDragAndDrop();
  checkCorrectOrder();
}

function showTranslations() {
  if (cheatTimeout || translationsVisible) return;
  cheatButton.disabled = true;
  translationsVisible = true;
  const items = itemList.querySelectorAll(".item");
  items.forEach(item => {
    const d = data.numbers.find(x => x.word === item.dataset.word);
    item.innerText = d ? `${d.word} (${d.translation})` : item.dataset.word;
  });
  cheatTimeout = setTimeout(() => {
    items.forEach(item => {
      const d = data.numbers.find(x => x.word === item.dataset.word);
      item.innerText = d ? d.word : item.dataset.word;
    });
    cheatButton.disabled = false;
    cheatTimeout = null;
    translationsVisible = false;
  }, 3000);
}

function checkCorrectOrder() {
  const items = Array.from(itemList.querySelectorAll(".item"));
  const currentWords = items.map(el => el.dataset.word);
  const correct = items.sort((a, b) => {
    const valA = parseInt(data.numbers.find(x => x.word === a.dataset.word).translation);
    const valB = parseInt(data.numbers.find(x => x.word === b.dataset.word).translation);
    return currentOrder === "small-to-large" ? valA - valB : valB - valA;
  }).map(el => el.dataset.word);
  const isCorrect = currentWords.length === correct.length && currentWords.every((w, i) => w === correct[i]);
  itemList.classList.toggle("correct", isCorrect);
}

function setupDragAndDrop() {
  const items = itemList.querySelectorAll(".item");
  items.forEach(item => {
    item.addEventListener("dragstart", e => { 
      item.classList.add("dragging"); 
      e.dataTransfer?.setData("text/plain",""); 
    });
    item.addEventListener("dragend", () => { 
      item.classList.remove("dragging"); 
      checkCorrectOrder(); 
    });
    item.addEventListener("dragover", e => e.preventDefault());
    item.addEventListener("drop", e => {
      e.preventDefault();
      const dragging = document.querySelector(".dragging");
      if (!dragging || dragging === item) return;
      const allItems = Array.from(itemList.querySelectorAll(".item"));
      const fromIndex = allItems.indexOf(dragging);
      const toIndex = allItems.indexOf(item);
      if (fromIndex < toIndex) itemList.insertBefore(dragging, item.nextSibling);
      else itemList.insertBefore(dragging, item);
      checkCorrectOrder();
    });
  });
}

document.querySelectorAll(".category-button").forEach(button => {
  button.addEventListener("click", () => { 
    currentCategory = button.dataset.category;
    renderList(currentCategory); 
  });
});

document.querySelectorAll(".order-option").forEach(button => {
  button.addEventListener("click", () => { 
    currentOrder = button.dataset.order; 
    setOrderButtonHighlights();
    checkCorrectOrder();
  });
});

document.addEventListener("DOMContentLoaded", () => {
  renderList("numbers");
});
</script>
</body>
</html>