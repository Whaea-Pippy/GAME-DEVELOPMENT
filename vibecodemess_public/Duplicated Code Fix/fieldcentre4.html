<!doctype html>
<html lang="mi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Field Centre Mihi 2025</title>
  <style>
    body{font-family:Poppins,Nunito,sans-serif;background:#fefce8;margin:0;padding:24px;color:#0f172a}
    .container{max-width:900px;margin:0 auto}
    h1,h2{text-align:center}
    .question{background:#fff;border-radius:14px;padding:16px;margin-bottom:24px;box-shadow:0 6px 18px rgba(15,23,42,.06)}
    .tiles-grid{display:flex;flex-wrap:wrap;gap:10px}
    .tile{padding:12px 16px;border-radius:10px;font-weight:600;cursor:pointer;user-select:none;box-shadow:0 4px 12px rgba(0,0,0,.06)}
    .tile[data-used="true"]{opacity:.45;cursor:default}
    .chip-1{background:#ffecd1}.chip-2{background:#e6fbe6}.chip-3{background:#e8f0ff}.chip-4{background:#fef08a}.chip-5{background:#fbcfe8}
    .answer{background:#fff;border-radius:12px;min-height:90px;padding:12px;display:flex;flex-wrap:wrap;gap:10px;box-shadow:0 6px 18px rgba(15,23,42,.04)}
    button{padding:10px 14px;border:0;border-radius:10px;font-weight:700;color:#fff;background:#0ea5a4;cursor:pointer;margin-right:8px}
    button.secondary{background:#64748b}
    .feedback{margin-top:10px;font-weight:700}
    .correct{color:green}.incorrect{color:#b91c1c}
    .flashcard-container{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin-top:24px}
    .flashcard{width:100%;perspective:1000px}
    .flashcard-inner{position:relative;width:100%;height:100px;text-align:center;transition:transform .6s;transform-style:preserve-3d;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);border-radius:10px}
    .flashcard:hover .flashcard-inner{transform:rotateY(180deg)}
    .flashcard-front,.flashcard-back{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:flex;justify-content:center;align-items:center;font-size:1.2em;border-radius:10px;padding:12px;box-sizing:border-box}
    .flashcard-front{background-color:#d1e7dd;color:#0f172a}
    .flashcard-back{background-color:#e8f0ff;color:#0f172a;transform:rotateY(180deg)}
    .vocab-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px;margin-top:24px}
    .vocab-card{perspective:1000px;min-height:100px}
    .vocab-card-inner{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);border-radius:10px}
    .vocab-card:hover .vocab-card-inner{transform:rotateY(180deg)}
    .vocab-card-front,.vocab-card-back{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:flex;justify-content:center;align-items:center;font-size:1em;border-radius:10px;padding:5px;box-sizing:border-box}
    .vocab-card-front{background-color:#e6fbe6;color:#0f172a}
    .vocab-card-back{background-color:#ffecd1;color:#0f172a;transform:rotateY(180deg)}
  </style>
</head>
<body>
  <div class="container">
    <h1>Field Centre Mihi 2025</h1>

    <h2>Sentences</h2>
    <div class="flashcard-container" id="sentences"></div>

    <h2>Vocabulary</h2>
    <div class="vocab-grid" id="vocabulary"></div>

    <h2>Sentence Building</h2>
    <p style="text-align:center;">Click the tiles in order to build the correct MƒÅori sentence.</p>
    <div id="activities"></div>
  </div>

<script>
(function(){
  const allSentences = [
    { mi: "TƒìnƒÅ koutou katoa,", en: "Greetings to you all,", order: ["TƒìnƒÅ", "koutou", "katoa,"] },
    { mi: "Ko Perehipitƒ´riana te HƒÅhi", en: "Presbyterian is the Church,", order: ["Ko", "Perehipitƒ´riana", "te", "HƒÅhi"] },
    { mi: "Ko HƒÅto Kƒìneti te tangata", en: "Saint Kentigern is the person,", order: ["Ko", "HƒÅto", "Kƒìneti", "te", "tangata"] },
    { mi: "Ko HƒÅto Kƒìneti te kura", en: "Saint Kentigern is the school,", order: ["Ko", "HƒÅto", "Kƒìneti", "te", "kura"] },
    { mi: "Me ≈´ ki te whakapono", en: "Hold fast to the faith,", order: ["Me", "≈´", "ki", "te", "whakapono"] },
    { mi: "Tƒ´hei Mauri Ora.", en: "Behold, the breath of life!", order: ["Tƒ´hei", "Mauri", "Ora."] },
    { mi: "Ko te mihi tuatahi ki te atua, nƒÅnƒÅ nei ngƒÅ mea katoa.", en: "The first greeting is to God, by whom all things were made.", order: ["Ko", "te", "mihi", "tuatahi", "ki", "te", "atua,", "nƒÅnƒÅ", "nei", "ngƒÅ", "mea", "katoa."] },
    { mi: "Ko te mihi tuarua ki te hunga mate, haere, haere, haere atu rƒÅ.", en: "The second greeting is to those who have passed on ‚Äî go, go, go on your way.", order: ["Ko", "te", "mihi", "tuarua", "ki", "te", "hunga", "mate,", "haere,", "haere,", "haere", "atu", "rƒÅ."] },
    { mi: "Ki a tƒÅtou te hunga ora e huihui mai nei, kia kaha, kia maia, kia manawanui.", en: "To us, the living who gather here ‚Äî be strong, be brave, be steadfast.", order: ["Ki", "a", "tƒÅtou", "te", "hunga", "ora", "e", "huihui", "mai", "nei,", "kia", "kaha,", "kia", "maia,", "kia", "manawanui."] },
    { mi: "TƒìnƒÅ hoki koutou e te mana whenua, kua tae mai mƒÅtou ki te tautoko i te kaupapa o te wƒÅ, arƒÅ, ko te whanaungatanga.", en: "Acknowledgements also to you, the local people ‚Äî we have come to support the purpose of this time, that is, relationships and connection.", order: ["TƒìnƒÅ", "hoki", "koutou", "e", "te", "mana", "whenua,", "kua", "tae", "mai", "mƒÅtou", "ki", "te", "tautoko", "i", "te", "kaupapa", "o", "te", "wƒÅ,", "arƒÅ,", "ko", "te", "whanaungatanga."] },
    { mi: "Ahakoa he iti, he pounamu.", en: "Although it is small, it is precious like greenstone.", order: ["Ahakoa", "he", "iti,", "he", "pounamu."] },
    { mi: "N≈ç reira, tƒìnƒÅ koutou, tƒìnƒÅ koutou, tƒìnƒÅ koutou katoa.", en: "Therefore, greetings, greetings, greetings to you all.", order: ["N≈ç", "reira,", "tƒìnƒÅ", "koutou,", "tƒìnƒÅ", "koutou,", "tƒìnƒÅ", "koutou", "katoa."] }
  ];

  const allVocab = [
    { mi: "TƒìnƒÅ koutou katoa", en: "Greetings to you all" },
    { mi: "Ko", en: "Is / used for identifying" },
    { mi: "Perehipitƒ´riana", en: "Presbyterian" },
    { mi: "HƒÅhi", en: "Church" },
    { mi: "HƒÅto Kƒìneti", en: "Saint Kentigern" },
    { mi: "TƒÅngata", en: "Person" },
    { mi: "Kura", en: "School" },
    { mi: "Me ≈´", en: "Hold fast / stay firm" },
    { mi: "Whakapono", en: "Faith / belief" },
    { mi: "Tƒ´hei Mauri Ora", en: "Behold, the breath of life!" },
    { mi: "Mihi", en: "Greeting / acknowledgment" },
    { mi: "Tuatahi", en: "First" },
    { mi: "Tuarua", en: "Second" },
    { mi: "Atua", en: "God" },
    { mi: "NƒÅnƒÅ nei", en: "By whom / created by" },
    { mi: "NgƒÅ mea katoa", en: "All things" },
    { mi: "Hunga mate", en: "The deceased" },
    { mi: "Haere atu rƒÅ", en: "Go forth / farewell" },
    { mi: "Hunga ora", en: "The living" },
    { mi: "E huihui mai nei", en: "Who have gathered here" },
    { mi: "Kia kaha", en: "Be strong" },
    { mi: "Kia maia", en: "Be brave" },
    { mi: "Kia manawanui", en: "Be steadfast / patient" },
    { mi: "Mana whenua", en: "Local people of the land" },
    { mi: "Kua tae mai", en: "Have arrived / have come" },
    { mi: "MƒÅtou", en: "We / us (excluding listener)" },
    { mi: "Tautoko", en: "To support" },
    { mi: "Kaupapa", en: "Purpose / cause / topic" },
    { mi: "O te wƒÅ", en: "Of the time / current" },
    { mi: "ArƒÅ", en: "That is / namely" },
    { mi: "Whanaungatanga", en: "Relationship / kinship" },
    { mi: "Ahakoa", en: "Although / even though" },
    { mi: "He iti", en: "Small" },
    { mi: "He pounamu", en: "A greenstone (precious)" },
    { mi: "N≈ç reira", en: "Therefore / so" },
    { mi: "Katoa", en: "All / everyone" },
    { mi: "Waiata tautoko", en: "Supporting song" }
  ];

  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function createSentenceCard(item) {
    return `
      <div class="flashcard">
        <div class="flashcard-inner">
          <div class="flashcard-front"><p>${item.mi}</p></div>
          <div class="flashcard-back"><p>${item.en}</p></div>
        </div>
      </div>`;
  }

  function createVocabCard(item) {
    return `
      <div class="vocab-card">
        <div class="vocab-card-inner">
          <div class="vocab-card-front"><p>${item.mi}</p></div>
          <div class="vocab-card-back"><p>${item.en}</p></div>
        </div>
      </div>`;
  }

  const sentencesContainer = document.getElementById('sentences');
  const vocabContainer = document.getElementById('vocabulary');
  const activitiesContainer = document.getElementById('activities');

  const randomSentences = allSentences;
  const randomVocab = shuffle([...allVocab]);

  sentencesContainer.innerHTML = randomSentences.map(createSentenceCard).join('');
  vocabContainer.innerHTML = randomVocab.map(createVocabCard).join('');

  function buildActivity(item, idx){
    if(!activitiesContainer) return;
    const div = document.createElement('div');
    div.className = 'question';
    div.innerHTML = `<h3>${idx + 1}. ${item.en}</h3>
      <div class='tiles-grid' id='tiles${idx}'></div>
      <div class='answer' id='ans${idx}'><div class='answer-placeholder'>Click tiles above to build your sentence.</div></div>
      <button id='check${idx}'>Check</button>
      <button class='secondary' id='reset${idx}'>Reset</button>
      <div class='feedback' id='feed${idx}'></div>`;
    activitiesContainer.appendChild(div);

    const tilesGrid = document.getElementById(`tiles${idx}`);
    const answer = document.getElementById(`ans${idx}`);
    const feedback = document.getElementById(`feed${idx}`);

    let answerArr = [];
    let tiles = item.order.map((t, i) => ({ id: i, text: t, used: false, styleClass: 'chip-' + ((i % 5) + 1) }));

    function renderTiles(){
      tilesGrid.innerHTML = '';
      shuffle([...tiles]).forEach(t => {
        const el = document.createElement('div');
        el.className = 'tile ' + t.styleClass;
        el.textContent = t.text;
        el.dataset.id = t.id;
        el.dataset.used = t.used;
        el.addEventListener('click', () => selectTile(t, el));
        tilesGrid.appendChild(el);
      });
    }

    function selectTile(tileObj, el){
      if (tileObj.used) return;
      tileObj.used = true;
      el.dataset.used = true;
      answerArr.push(tileObj.text);
      const chip = document.createElement('div');
      chip.className = 'tile ' + tileObj.styleClass;
      chip.textContent = tileObj.text;
      chip.addEventListener('click', () => {
        answerArr.splice(answerArr.indexOf(tileObj.text), 1);
        tileObj.used = false;
        chip.remove();
        updatePlaceholder();
        renderTiles();
      });
      answer.querySelector('.answer-placeholder')?.remove();
      answer.appendChild(chip);
    }

    function updatePlaceholder(){
      if (answerArr.length === 0) {
        const ph = document.createElement('div');
        ph.className = 'answer-placeholder';
        ph.textContent = 'Click tiles above to build your sentence.';
        answer.appendChild(ph);
      }
    }

    document.getElementById(`check${idx}`).addEventListener('click', () => {
      const user = answerArr.join(' ').replace(/\s+/g, ' ').trim();
      const correct = item.order.join(' ').replace(/\s+/g, ' ').trim();
      const isCorrect = (user === correct);
      feedback.textContent = isCorrect ? 'üéâ Tino pai! - Correct.' : '‚úñ Aroha mai - try again.';
      feedback.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
    });

    document.getElementById(`reset${idx}`).addEventListener('click', () => {
      answerArr = [];
      tiles.forEach(t => t.used = false);
      answer.innerHTML = '<div class="answer-placeholder">Click tiles above to build your sentence.</div>';
      feedback.textContent = '';
      renderTiles();
    });

    renderTiles();
  }

  randomSentences.forEach(buildActivity);

})();
</script>
<div class="wrap" style="text-align: center; margin-top: 40px;">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/u9rbLzuW14Q" title="Unlisted Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
</body>
</html>
