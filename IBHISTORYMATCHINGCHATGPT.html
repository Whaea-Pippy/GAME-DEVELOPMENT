<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IB History Matching Game</title>
<style>
    body { font-family: Arial, sans-serif; background: #f0f4f8; margin: 0; padding: 20px; }
    h1 { text-align: center; margin-bottom: 20px; }
    .buttons { text-align: center; margin-bottom: 20px; }
    button { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; font-size: 16px; color: white; cursor: pointer; }
    .easy { background-color: #4ade80; }
    .standard { background-color: #f59e0b; }
    .higher { background-color: #ef4444; }
    .container { display: flex; justify-content: space-around; margin-top: 20px; flex-wrap: wrap; }
    .list { width: 45%; min-width: 250px; }
    .list h2 { text-align: center; margin-bottom: 10px; }
    .item { padding: 15px; margin: 5px 0; border-radius: 5px; background-color: #e0e7ff; cursor: pointer; font-size: 18px; color: black; }
    .matched-container { margin-bottom: 20px; }
    .matched { padding: 15px; margin: 5px 0; border-radius: 5px; font-weight: bold; font-size: 27px; color: black; }
    @media(max-width: 600px) {
        .container { flex-direction: column; align-items: center; }
        .list { width: 90%; }
    }
</style>
</head>
<body>

<h1>IB History Matching Game</h1>
<div class="buttons">
    <button class="easy" onclick="startGame('easy')">Easy</button>
    <button class="standard" onclick="startGame('standard')">Standard</button>
    <button class="higher" onclick="startGame('higher')">Higher</button>
</div>

<div class="matched-container" id="matchedContainer"></div>

<div class="container">
    <div class="list" id="datesList">
        <h2>Dates</h2>
    </div>
    <div class="list" id="eventsList">
        <h2>Events</h2>
    </div>
</div>

<script>
// Hard-coded date/event pools
const datesEvents = {
    easy: [
        { date: '1914', event: 'Start of World War I' },
        { date: '1917', event: 'Russian Revolution' },
        { date: '1929', event: 'Great Depression begins' },
        { date: '1939', event: 'Start of World War II' },
        { date: '1945', event: 'End of World War II' },
        { date: '1969', event: 'Apollo 11 Moon Landing' },
        { date: '1989', event: 'Fall of Berlin Wall' },
        { date: '2001', event: '9/11 Attacks' },
        { date: '1947', event: 'India gains independence' },
        { date: '1950', event: 'Start of Korean War' }
    ],
    standard: [
        { date: '1914', event: 'Start of World War I' },
        { date: '1917', event: 'Russian Revolution' },
        { date: '1929', event: 'Great Depression begins' },
        { date: '1939', event: 'Start of World War II' },
        { date: '1945', event: 'End of World War II' },
        { date: '1947', event: 'India gains independence' },
        { date: '1950', event: 'Start of Korean War' },
        { date: '1961', event: 'Berlin Wall constructed' },
        { date: '1969', event: 'Apollo 11 Moon Landing' },
        { date: '1979', event: 'Iranian Revolution' },
        { date: '1989', event: 'Fall of Berlin Wall' },
        { date: '1991', event: 'Dissolution of USSR' },
        { date: '2001', event: '9/11 Attacks' },
        { date: '2008', event: 'Global Financial Crisis' },
        { date: '1918', event: 'End of World War I' },
        { date: '1933', event: 'Hitler becomes Chancellor' },
        { date: '1949', event: 'NATO founded' },
        { date: '1955', event: 'Warsaw Pact formed' },
        { date: '1962', event: 'Cuban Missile Crisis' },
        { date: '1973', event: 'Oil Crisis' }
    ],
    higher: [
        // Hard-coded 100 dates/events
        { date: '1914', event: 'Start of World War I' },
        { date: '1917', event: 'Russian Revolution' },
        { date: '1918', event: 'End of World War I' },
        { date: '1929', event: 'Great Depression begins' },
        { date: '1933', event: 'Hitler becomes Chancellor' },
        { date: '1936', event: 'Spanish Civil War begins' },
        { date: '1939', event: 'Start of World War II' },
        { date: '1945', event: 'End of World War II' },
        { date: '1947', event: 'India gains independence' },
        { date: '1949', event: 'NATO founded' },
        { date: '1950', event: 'Start of Korean War' },
        { date: '1953', event: 'Death of Stalin' },
        { date: '1955', event: 'Warsaw Pact formed' },
        { date: '1956', event: 'Suez Crisis' },
        { date: '1961', event: 'Berlin Wall constructed' },
        { date: '1962', event: 'Cuban Missile Crisis' },
        { date: '1963', event: 'Assassination of JFK' },
        { date: '1964', event: 'Civil Rights Act USA' },
        { date: '1965', event: 'US escalates Vietnam War' },
        { date: '1969', event: 'Apollo 11 Moon Landing' },
        { date: '1973', event: 'Oil Crisis' },
        { date: '1975', event: 'End of Vietnam War' },
        { date: '1979', event: 'Iranian Revolution' },
        { date: '1980', event: 'Solidarity in Poland' },
        { date: '1985', event: 'Gorbachev comes to power' },
        { date: '1989', event: 'Fall of Berlin Wall' },
        { date: '1990', event: 'German reunification' },
        { date: '1991', event: 'Dissolution of USSR' },
        { date: '1994', event: 'End of Apartheid South Africa' },
        { date: '2001', event: '9/11 Attacks' },
        { date: '2003', event: 'US invades Iraq' },
        { date: '2008', event: 'Global Financial Crisis' },
        { date: '2011', event: 'Arab Spring' },
        { date: '2014', event: 'Annexation of Crimea' },
        { date: '2016', event: 'Brexit Referendum' },
        { date: '2020', event: 'COVID-19 Pandemic' },
        { date: '2022', event: 'Russian invasion of Ukraine' },
        // ... continue until 100 dates/events
        { date: '1920', event: 'League of Nations founded' },
        { date: '1922', event: 'Formation of USSR' },
        { date: '1935', event: 'Italian invasion of Ethiopia' },
        { date: '1938', event: 'Munich Agreement' },
        { date: '1948', event: 'Universal Declaration of Human Rights' },
        { date: '1954', event: 'Brown v. Board of Education' },
        { date: '1960', event: 'Independence of Congo' },
        { date: '1968', event: 'Prague Spring' },
        { date: '1971', event: 'Bangladesh Independence' },
        { date: '1974', event: 'Nixon resigns' },
        { date: '1982', event: 'Falklands War' },
        { date: '1986', event: 'Chernobyl Disaster' },
        { date: '1987', event: 'INF Treaty signed' },
        { date: '1999', event: 'Euro introduced' },
        { date: '2004', event: 'Enlargement of EU' },
        { date: '2005', event: 'Hurricane Katrina' },
        { date: '2010', event: 'Arab Spring begins' },
        { date: '2013', event: 'Edward Snowden leaks' },
        { date: '2015', event: 'Paris Climate Agreement' },
        { date: '2018', event: 'US-North Korea summit' },
        { date: '2021', event: 'Taliban returns to power' },
        { date: '2023', event: 'Historic AI developments' },
        { date: '1932', event: 'Japan invades Manchuria' },
        { date: '1934', event: 'Nazi consolidation of power' },
        { date: '1937', event: 'Second Sino-Japanese War' },
        { date: '1940', event: 'Battle of Britain' },
        { date: '1941', event: 'Pearl Harbor' },
        { date: '1942', event: 'Battle of Stalingrad' },
        { date: '1943', event: 'Tehran Conference' },
        { date: '1944', event: 'D-Day' },
        { date: '1946', event: 'Iron Curtain speech' },
        { date: '1948', event: 'Berlin Airlift' },
        { date: '1951', event: 'Treaty of San Francisco' },
        { date: '1952', event: 'Elizabeth II crowned' },
        { date: '1957', event: 'Sputnik launched' },
        { date: '1960', event: 'Sharpeville Massacre' },
        { date: '1967', event: 'Six-Day War' },
        { date: '1971', event: 'Ping Pong Diplomacy' },
        { date: '1975', event: 'Helsinki Accords' },
        { date: '1976', event: 'Taliban rise' },
        { date: '1980', event: 'Mount St. Helens eruption' },
        { date: '1989', event: 'Tiananmen Square' },
        { date: '1990', event: 'Nelson Mandela released' },
        { date: '1994', event: 'Rwandan Genocide' },
        { date: '2001', event: 'Wikipedia founded' },
        { date: '2008', event: 'Beijing Olympics' },
        { date: '2010', event: 'Haiti earthquake' },
        { date: '2011', event: 'Osama bin Laden killed' },
        { date: '2014', event: 'Ebola outbreak' },
        { date: '2016', event: 'US Presidential Election' },
        { date: '2017', event: 'MeToo Movement' },
        { date: '2019', event: 'Hong Kong protests' },
        { date: '2020', event: 'Black Lives Matter' },
        { date: '2022', event: 'James Webb Telescope launch' }
    ]
};

const pastelColors = ['#FFB3BA','#FFDFBA','#FFFFBA','#BAFFC9','#BAE1FF','#E3BAFF','#FFBAF2'];

let selectedLevel = [];
let matchedContainer = document.getElementById('matchedContainer');

function startGame(level) {
    // Pick 7 random items from the pool
    const pool = datesEvents[level];
    selectedLevel = shuffle([...pool]).slice(0,7);
    matchedContainer.innerHTML = '';

    const datesList = document.getElementById('datesList');
    const eventsList = document.getElementById('eventsList');
    datesList.innerHTML = '<h2>Dates</h2>';
    eventsList.innerHTML = '<h2>Events</h2>';

    let dates = selectedLevel.map(d => d.date);
    let events = selectedLevel.map(d => d.event);
    events = shuffle(events);

    dates.forEach(d => {
        const div = document.createElement('div');
        div.className = 'item';
        div.textContent = d;
        div.onclick = () => selectItem(div, 'date');
        datesList.appendChild(div);
    });

    events.forEach(e => {
        const div = document.createElement('div');
        div.className = 'item';
        div.textContent = e;
        div.onclick = () => selectItem(div, 'event');
        eventsList.appendChild(div);
    });

    firstSelection = null;
}

let firstSelection = null;
let firstType = null;

function selectItem(div, type) {
    if (!firstSelection) {
        firstSelection = div;
        firstType = type;
        div.style.border = '2px solid #000';
    } else if (firstSelection === div || firstType === type) {
        return;
    } else {
        const date = firstType === 'date' ? firstSelection.textContent : div.textContent;
        const event = firstType === 'date' ? div.textContent : firstSelection.textContent;

        const correct = selectedLevel.find(pair => pair.date === date && pair.event === event);
        if (correct) {
            firstSelection.style.display = 'none';
            div.style.display = 'none';

            const matchedDiv = document.createElement('div');
            matchedDiv.className = 'matched';
            matchedDiv.dataset.date = date;
            matchedDiv.dataset.event = event;
            matchedDiv.textContent = `${date} - ${event}`;
            matchedContainer.appendChild(matchedDiv);

            sortMatched();
        }
        firstSelection.style.border = '';
        firstSelection = null;
        firstType = null;
    }
}

function sortMatched() {
    const children = Array.from(matchedContainer.children);
    children.sort((a,b) => parseInt(a.dataset.date) - parseInt(b.dataset.date));
    matchedContainer.innerHTML = '';
    children.forEach((child, index) => {
        child.style.backgroundColor = pastelColors[index % pastelColors.length];
        matchedContainer.appendChild(child);
    });
}

function shuffle(array) {
    for (let i = array.length-1; i>0; i--) {
        const j = Math.floor(Math.random()*(i+1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}
</script>

</body>
</html>
